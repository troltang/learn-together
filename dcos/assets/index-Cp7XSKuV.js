(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hu={exports:{}},no={},Uu={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zr=Symbol.for("react.element"),_f=Symbol.for("react.portal"),Cf=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),jf=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Df=Symbol.for("react.memo"),If=Symbol.for("react.lazy"),ma=Symbol.iterator;function Mf(e){return e===null||typeof e!="object"?null:(e=ma&&e[ma]||e["@@iterator"],typeof e=="function"?e:null)}var Wu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bu=Object.assign,Vu={};function Qn(e,t,n){this.props=e,this.context=t,this.refs=Vu,this.updater=n||Wu}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gu(){}Gu.prototype=Qn.prototype;function oi(e,t,n){this.props=e,this.context=t,this.refs=Vu,this.updater=n||Wu}var li=oi.prototype=new Gu;li.constructor=oi;Bu(li,Qn.prototype);li.isPureReactComponent=!0;var ga=Array.isArray,Qu=Object.prototype.hasOwnProperty,ii={current:null},Ku={key:!0,ref:!0,__self:!0,__source:!0};function Xu(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Qu.call(t,r)&&!Ku.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var u=Array(i),d=0;d<i;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:zr,type:e,key:o,ref:l,props:s,_owner:ii.current}}function Lf(e,t){return{$$typeof:zr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ai(e){return typeof e=="object"&&e!==null&&e.$$typeof===zr}function bf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ya=/\/+/g;function jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bf(""+e.key):t.toString(36)}function hs(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case zr:case _f:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+jo(l,0):r,ga(s)?(n="",e!=null&&(n=e.replace(ya,"$&/")+"/"),hs(s,t,n,"",function(d){return d})):s!=null&&(ai(s)&&(s=Lf(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ya,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",ga(e))for(var i=0;i<e.length;i++){o=e[i];var u=r+jo(o,i);l+=hs(o,t,n,u,s)}else if(u=Mf(e),typeof u=="function")for(e=u.call(e),i=0;!(o=e.next()).done;)o=o.value,u=r+jo(o,i++),l+=hs(o,t,n,u,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Xr(e,t,n){if(e==null)return e;var r=[],s=0;return hs(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Of(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},ps={transition:null},Af={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:ps,ReactCurrentOwner:ii};function Yu(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Xr,forEach:function(e,t,n){Xr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xr(e,function(){t++}),t},toArray:function(e){return Xr(e,function(t){return t})||[]},only:function(e){if(!ai(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Qn;G.Fragment=Cf;G.Profiler=Ef;G.PureComponent=oi;G.StrictMode=Nf;G.Suspense=Tf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Af;G.act=Yu;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bu({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=ii.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Qu.call(t,u)&&!Ku.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var d=0;d<u;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:zr,type:e.type,key:s,ref:o,props:r,_owner:l}};G.createContext=function(e){return e={$$typeof:Pf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jf,_context:e},e.Consumer=e};G.createElement=Xu;G.createFactory=function(e){var t=Xu.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Rf,render:e}};G.isValidElement=ai;G.lazy=function(e){return{$$typeof:If,_payload:{_status:-1,_result:e},_init:Of}};G.memo=function(e,t){return{$$typeof:Df,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=ps.transition;ps.transition={};try{e()}finally{ps.transition=t}};G.unstable_act=Yu;G.useCallback=function(e,t){return Re.current.useCallback(e,t)};G.useContext=function(e){return Re.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};G.useEffect=function(e,t){return Re.current.useEffect(e,t)};G.useId=function(){return Re.current.useId()};G.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Re.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};G.useRef=function(e){return Re.current.useRef(e)};G.useState=function(e){return Re.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Re.current.useTransition()};G.version="18.3.1";Uu.exports=G;var w=Uu.exports;const zf=kf(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=w,Ff=Symbol.for("react.element"),Hf=Symbol.for("react.fragment"),Uf=Object.prototype.hasOwnProperty,Wf=$f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function Ju(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Uf.call(t,r)&&!Bf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ff,type:e,key:o,ref:l,props:s,_owner:Wf.current}}no.Fragment=Hf;no.jsx=Ju;no.jsxs=Ju;Hu.exports=no;var a=Hu.exports,ul={},qu={exports:{}},Ue={},Zu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var z=R.length;R.push(O);e:for(;0<z;){var H=z-1>>>1,J=R[H];if(0<s(J,O))R[H]=O,R[z]=J,z=H;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],z=R.pop();if(z!==O){R[0]=z;e:for(var H=0,J=R.length,ht=J>>>1;H<ht;){var Ae=2*(H+1)-1,Ee=R[Ae],Se=Ae+1,I=R[Se];if(0>s(Ee,z))Se<J&&0>s(I,Ee)?(R[H]=I,R[Se]=z,H=Se):(R[H]=Ee,R[Ae]=z,H=Ae);else if(Se<J&&0>s(I,z))R[H]=I,R[Se]=z,H=Se;else break e}}return O}function s(R,O){var z=R.sortIndex-O.sortIndex;return z!==0?z:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var u=[],d=[],m=1,p=null,g=3,S=!1,v=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(R){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=R)r(d),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(d)}}function y(R){if(k=!1,h(R),!v)if(n(u)!==null)v=!0,W(_);else{var O=n(d);O!==null&&V(y,O.startTime-R)}}function _(R,O){v=!1,k&&(k=!1,f(T),T=-1),S=!0;var z=g;try{for(h(O),p=n(u);p!==null&&(!(p.expirationTime>O)||R&&!b());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var J=H(p.expirationTime<=O);O=e.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),h(O)}else r(u);p=n(u)}if(p!==null)var ht=!0;else{var Ae=n(d);Ae!==null&&V(y,Ae.startTime-O),ht=!1}return ht}finally{p=null,g=z,S=!1}}var x=!1,E=null,T=-1,C=5,P=-1;function b(){return!(e.unstable_now()-P<C)}function F(){if(E!==null){var R=e.unstable_now();P=R;var O=!0;try{O=E(!0,R)}finally{O?U():(x=!1,E=null)}}else x=!1}var U;if(typeof c=="function")U=function(){c(F)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,le=Q.port2;Q.port1.onmessage=F,U=function(){le.postMessage(null)}}else U=function(){M(F,0)};function W(R){E=R,x||(x=!0,U())}function V(R,O){T=M(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||S||(v=!0,W(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var z=g;g=O;try{return R()}finally{g=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=g;g=R;try{return O()}finally{g=z}},e.unstable_scheduleCallback=function(R,O,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=z+J,R={id:m++,callback:O,priorityLevel:R,startTime:z,expirationTime:J,sortIndex:-1},z>H?(R.sortIndex=z,t(d,R),n(u)===null&&R===n(d)&&(k?(f(T),T=-1):k=!0,V(y,z-H))):(R.sortIndex=J,t(u,R),v||S||(v=!0,W(_))),R},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(R){var O=g;return function(){var z=g;g=O;try{return R.apply(this,arguments)}finally{g=z}}}})(ec);Zu.exports=ec;var Vf=Zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=w,He=Vf;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tc=new Set,Sr={};function hn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Sr[e]=t,e=0;e<t.length;e++)tc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cl=Object.prototype.hasOwnProperty,Qf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,va={},xa={};function Kf(e){return cl.call(xa,e)?!0:cl.call(va,e)?!1:Qf.test(e)?xa[e]=!0:(va[e]=!0,!1)}function Xf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yf(e,t,n,r){if(t===null||typeof t>"u"||Xf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var ui=/[\-:]([a-z])/g;function ci(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ui,ci);we[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ui,ci);we[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ui,ci);we[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function di(e,t,n,r){var s=we.hasOwnProperty(t)?we[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yf(t,n,s,r)&&(n=null),r||s===null?Kf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Et=Gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yr=Symbol.for("react.element"),wn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),fi=Symbol.for("react.strict_mode"),dl=Symbol.for("react.profiler"),nc=Symbol.for("react.provider"),rc=Symbol.for("react.context"),hi=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),pi=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),sc=Symbol.for("react.offscreen"),wa=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=wa&&e[wa]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Po;function lr(e){if(Po===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Po=t&&t[1]||""}return`
`+Po+e}var Ro=!1;function To(e,t){if(!e||Ro)return"";Ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,i=o.length-1;1<=l&&0<=i&&s[l]!==o[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==o[i]){if(l!==1||i!==1)do if(l--,i--,0>i||s[l]!==o[i]){var u=`
`+s[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=i);break}}}finally{Ro=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lr(e):""}function Jf(e){switch(e.tag){case 5:return lr(e.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 2:case 15:return e=To(e.type,!1),e;case 11:return e=To(e.type.render,!1),e;case 1:return e=To(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case wn:return"Portal";case dl:return"Profiler";case fi:return"StrictMode";case fl:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rc:return(e.displayName||"Context")+".Consumer";case nc:return(e._context.displayName||"Context")+".Provider";case hi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pi:return t=e.displayName||null,t!==null?t:pl(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return pl(e(t))}catch{}}return null}function qf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(t);case 8:return t===fi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zf(e){var t=oc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){e._valueTracker||(e._valueTracker=Zf(e))}function lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ml(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ic(e,t){t=t.checked,t!=null&&di(e,"checked",t,!1)}function gl(e,t){ic(e,t);var n=Bt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yl(e,t.type,n):t.hasOwnProperty("defaultValue")&&yl(e,t.type,Bt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ka(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yl(e,t,n){(t!=="number"||js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ir=Array.isArray;function In(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _a(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(ir(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bt(n)}}function ac(e,t){var n=Bt(t.value),r=Bt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ca(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qr,cc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qr=qr||document.createElement("div"),qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eh=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){eh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});function dc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function fc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var th=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(e,t){if(t){if(th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function mi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,Mn=null,Ln=null;function Na(e){if(e=Hr(e)){if(typeof _l!="function")throw Error(j(280));var t=e.stateNode;t&&(t=io(t),_l(e.stateNode,e.type,t))}}function hc(e){Mn?Ln?Ln.push(e):Ln=[e]:Mn=e}function pc(){if(Mn){var e=Mn,t=Ln;if(Ln=Mn=null,Na(e),t)for(e=0;e<t.length;e++)Na(t[e])}}function mc(e,t){return e(t)}function gc(){}var Do=!1;function yc(e,t,n){if(Do)return e(t,n);Do=!0;try{return mc(e,t,n)}finally{Do=!1,(Mn!==null||Ln!==null)&&(gc(),pc())}}function _r(e,t){var n=e.stateNode;if(n===null)return null;var r=io(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Cl=!1;if(kt)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Cl=!1}function nh(e,t,n,r,s,o,l,i,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var dr=!1,Ps=null,Rs=!1,Nl=null,rh={onError:function(e){dr=!0,Ps=e}};function sh(e,t,n,r,s,o,l,i,u){dr=!1,Ps=null,nh.apply(rh,arguments)}function oh(e,t,n,r,s,o,l,i,u){if(sh.apply(this,arguments),dr){if(dr){var d=Ps;dr=!1,Ps=null}else throw Error(j(198));Rs||(Rs=!0,Nl=d)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ea(e){if(pn(e)!==e)throw Error(j(188))}function lh(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ea(s),e;if(o===r)return Ea(s),t;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,i=s.child;i;){if(i===n){l=!0,n=s,r=o;break}if(i===r){l=!0,r=s,n=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===n){l=!0,n=o,r=s;break}if(i===r){l=!0,r=o,n=s;break}i=i.sibling}if(!l)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function xc(e){return e=lh(e),e!==null?wc(e):null}function wc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wc(e);if(t!==null)return t;e=e.sibling}return null}var Sc=He.unstable_scheduleCallback,ja=He.unstable_cancelCallback,ih=He.unstable_shouldYield,ah=He.unstable_requestPaint,ce=He.unstable_now,uh=He.unstable_getCurrentPriorityLevel,gi=He.unstable_ImmediatePriority,kc=He.unstable_UserBlockingPriority,Ts=He.unstable_NormalPriority,ch=He.unstable_LowPriority,_c=He.unstable_IdlePriority,ro=null,dt=null;function dh(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ro,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:ph,fh=Math.log,hh=Math.LN2;function ph(e){return e>>>=0,e===0?32:31-(fh(e)/hh|0)|0}var Zr=64,es=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~s;i!==0?r=ar(i):(o&=l,o!==0&&(r=ar(o)))}else l=n&~s,l!==0?r=ar(l):o!==0&&(r=ar(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-st(t),s=1<<n,r|=e[n],t&=~s;return r}function mh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-st(o),i=1<<l,u=s[l];u===-1?(!(i&n)||i&r)&&(s[l]=mh(i,t)):u<=t&&(e.expiredLanes|=i),o&=~i}}function El(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cc(){var e=Zr;return Zr<<=1,!(Zr&4194240)&&(Zr=64),e}function Io(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=n}function yh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-st(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function yi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function Nc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,vi,jc,Pc,Rc,jl=!1,ts=[],Ot=null,At=null,zt=null,Cr=new Map,Nr=new Map,Dt=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pa(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Zn(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Hr(t),t!==null&&vi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xh(e,t,n,r,s){switch(t){case"focusin":return Ot=Zn(Ot,e,t,n,r,s),!0;case"dragenter":return At=Zn(At,e,t,n,r,s),!0;case"mouseover":return zt=Zn(zt,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Cr.set(o,Zn(Cr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Nr.set(o,Zn(Nr.get(o)||null,e,t,n,r,s)),!0}return!1}function Tc(e){var t=Jt(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=vc(n),t!==null){e.blockedOn=t,Rc(e.priority,function(){jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kl=r,n.target.dispatchEvent(r),kl=null}else return t=Hr(n),t!==null&&vi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ra(e,t,n){ms(e)&&n.delete(t)}function wh(){jl=!1,Ot!==null&&ms(Ot)&&(Ot=null),At!==null&&ms(At)&&(At=null),zt!==null&&ms(zt)&&(zt=null),Cr.forEach(Ra),Nr.forEach(Ra)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,jl||(jl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,wh)))}function Er(e){function t(s){return er(s,e)}if(0<ts.length){er(ts[0],e);for(var n=1;n<ts.length;n++){var r=ts[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&er(Ot,e),At!==null&&er(At,e),zt!==null&&er(zt,e),Cr.forEach(t),Nr.forEach(t),n=0;n<Dt.length;n++)r=Dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&(n=Dt[0],n.blockedOn===null);)Tc(n),n.blockedOn===null&&Dt.shift()}var bn=Et.ReactCurrentBatchConfig,Is=!0;function Sh(e,t,n,r){var s=Y,o=bn.transition;bn.transition=null;try{Y=1,xi(e,t,n,r)}finally{Y=s,bn.transition=o}}function kh(e,t,n,r){var s=Y,o=bn.transition;bn.transition=null;try{Y=4,xi(e,t,n,r)}finally{Y=s,bn.transition=o}}function xi(e,t,n,r){if(Is){var s=Pl(e,t,n,r);if(s===null)Uo(e,t,r,Ms,n),Pa(e,r);else if(xh(s,e,t,n,r))r.stopPropagation();else if(Pa(e,r),t&4&&-1<vh.indexOf(e)){for(;s!==null;){var o=Hr(s);if(o!==null&&Ec(o),o=Pl(e,t,n,r),o===null&&Uo(e,t,r,Ms,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Uo(e,t,r,null,n)}}var Ms=null;function Pl(e,t,n,r){if(Ms=null,e=mi(r),e=Jt(e),e!==null)if(t=pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function Dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uh()){case gi:return 1;case kc:return 4;case Ts:case ch:return 16;case _c:return 536870912;default:return 16}default:return 16}}var Mt=null,wi=null,gs=null;function Ic(){if(gs)return gs;var e,t=wi,n=t.length,r,s="value"in Mt?Mt.value:Mt.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return gs=s.slice(e,1<r?1-r:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ns(){return!0}function Ta(){return!1}function We(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ns:Ta,this.isPropagationStopped=Ta,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=We(Kn),Fr=oe({},Kn,{view:0,detail:0}),_h=We(Fr),Mo,Lo,tr,so=oe({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(Mo=e.screenX-tr.screenX,Lo=e.screenY-tr.screenY):Lo=Mo=0,tr=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),Da=We(so),Ch=oe({},so,{dataTransfer:0}),Nh=We(Ch),Eh=oe({},Fr,{relatedTarget:0}),bo=We(Eh),jh=oe({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ph=We(jh),Rh=oe({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Th=We(Rh),Dh=oe({},Kn,{data:0}),Ia=We(Dh),Ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lh[e])?!!t[e]:!1}function ki(){return bh}var Oh=oe({},Fr,{key:function(e){if(e.key){var t=Ih[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ah=We(Oh),zh=oe({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=We(zh),$h=oe({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),Fh=We($h),Hh=oe({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uh=We(Hh),Wh=oe({},so,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bh=We(Wh),Vh=[9,13,27,32],_i=kt&&"CompositionEvent"in window,fr=null;kt&&"documentMode"in document&&(fr=document.documentMode);var Gh=kt&&"TextEvent"in window&&!fr,Mc=kt&&(!_i||fr&&8<fr&&11>=fr),La=" ",ba=!1;function Lc(e,t){switch(e){case"keyup":return Vh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function Qh(e,t){switch(e){case"compositionend":return bc(t);case"keypress":return t.which!==32?null:(ba=!0,La);case"textInput":return e=t.data,e===La&&ba?null:e;default:return null}}function Kh(e,t){if(kn)return e==="compositionend"||!_i&&Lc(e,t)?(e=Ic(),gs=wi=Mt=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mc&&t.locale!=="ko"?null:t.data;default:return null}}var Xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xh[e.type]:t==="textarea"}function Oc(e,t,n,r){hc(r),t=Ls(t,"onChange"),0<t.length&&(n=new Si("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hr=null,jr=null;function Yh(e){Qc(e,0)}function oo(e){var t=Nn(e);if(lc(t))return e}function Jh(e,t){if(e==="change")return t}var Ac=!1;if(kt){var Oo;if(kt){var Ao="oninput"in document;if(!Ao){var Aa=document.createElement("div");Aa.setAttribute("oninput","return;"),Ao=typeof Aa.oninput=="function"}Oo=Ao}else Oo=!1;Ac=Oo&&(!document.documentMode||9<document.documentMode)}function za(){hr&&(hr.detachEvent("onpropertychange",zc),jr=hr=null)}function zc(e){if(e.propertyName==="value"&&oo(jr)){var t=[];Oc(t,jr,e,mi(e)),yc(Yh,t)}}function qh(e,t,n){e==="focusin"?(za(),hr=t,jr=n,hr.attachEvent("onpropertychange",zc)):e==="focusout"&&za()}function Zh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oo(jr)}function ep(e,t){if(e==="click")return oo(t)}function tp(e,t){if(e==="input"||e==="change")return oo(t)}function np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:np;function Pr(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cl.call(t,s)||!lt(e[s],t[s]))return!1}return!0}function $a(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fa(e,t){var n=$a(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$a(n)}}function $c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fc(){for(var e=window,t=js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=js(e.document)}return t}function Ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rp(e){var t=Fc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$c(n.ownerDocument.documentElement,n)){if(r!==null&&Ci(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Fa(n,o);var l=Fa(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sp=kt&&"documentMode"in document&&11>=document.documentMode,_n=null,Rl=null,pr=null,Tl=!1;function Ha(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tl||_n==null||_n!==js(r)||(r=_n,"selectionStart"in r&&Ci(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pr&&Pr(pr,r)||(pr=r,r=Ls(Rl,"onSelect"),0<r.length&&(t=new Si("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_n)))}function rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cn={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},zo={},Hc={};kt&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function lo(e){if(zo[e])return zo[e];if(!Cn[e])return e;var t=Cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hc)return zo[e]=t[n];return e}var Uc=lo("animationend"),Wc=lo("animationiteration"),Bc=lo("animationstart"),Vc=lo("transitionend"),Gc=new Map,Ua="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){Gc.set(e,t),hn(t,[e])}for(var $o=0;$o<Ua.length;$o++){var Fo=Ua[$o],op=Fo.toLowerCase(),lp=Fo[0].toUpperCase()+Fo.slice(1);Gt(op,"on"+lp)}Gt(Uc,"onAnimationEnd");Gt(Wc,"onAnimationIteration");Gt(Bc,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(Vc,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function Wa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oh(r,t,void 0,e),e.currentTarget=null}function Qc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],u=i.instance,d=i.currentTarget;if(i=i.listener,u!==o&&s.isPropagationStopped())break e;Wa(s,i,d),o=u}else for(l=0;l<r.length;l++){if(i=r[l],u=i.instance,d=i.currentTarget,i=i.listener,u!==o&&s.isPropagationStopped())break e;Wa(s,i,d),o=u}}}if(Rs)throw e=Nl,Rs=!1,Nl=null,e}function Z(e,t){var n=t[bl];n===void 0&&(n=t[bl]=new Set);var r=e+"__bubble";n.has(r)||(Kc(t,e,2,!1),n.add(r))}function Ho(e,t,n){var r=0;t&&(r|=4),Kc(n,e,r,t)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[ss]){e[ss]=!0,tc.forEach(function(n){n!=="selectionchange"&&(ip.has(n)||Ho(n,!1,e),Ho(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ss]||(t[ss]=!0,Ho("selectionchange",!1,t))}}function Kc(e,t,n,r){switch(Dc(t)){case 1:var s=Sh;break;case 4:s=kh;break;default:s=xi}n=s.bind(null,t,n,e),s=void 0,!Cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Uo(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;i!==null;){if(l=Jt(i),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}i=i.parentNode}}r=r.return}yc(function(){var d=o,m=mi(n),p=[];e:{var g=Gc.get(e);if(g!==void 0){var S=Si,v=e;switch(e){case"keypress":if(ys(n)===0)break e;case"keydown":case"keyup":S=Ah;break;case"focusin":v="focus",S=bo;break;case"focusout":v="blur",S=bo;break;case"beforeblur":case"afterblur":S=bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Fh;break;case Uc:case Wc:case Bc:S=Ph;break;case Vc:S=Uh;break;case"scroll":S=_h;break;case"wheel":S=Bh;break;case"copy":case"cut":case"paste":S=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Ma}var k=(t&4)!==0,M=!k&&e==="scroll",f=k?g!==null?g+"Capture":null:g;k=[];for(var c=d,h;c!==null;){h=c;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,f!==null&&(y=_r(c,f),y!=null&&k.push(Tr(c,y,h)))),M)break;c=c.return}0<k.length&&(g=new S(g,v,null,n,m),p.push({event:g,listeners:k}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==kl&&(v=n.relatedTarget||n.fromElement)&&(Jt(v)||v[_t]))break e;if((S||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,S?(v=n.relatedTarget||n.toElement,S=d,v=v?Jt(v):null,v!==null&&(M=pn(v),v!==M||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=d),S!==v)){if(k=Da,y="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(k=Ma,y="onPointerLeave",f="onPointerEnter",c="pointer"),M=S==null?g:Nn(S),h=v==null?g:Nn(v),g=new k(y,c+"leave",S,n,m),g.target=M,g.relatedTarget=h,y=null,Jt(m)===d&&(k=new k(f,c+"enter",v,n,m),k.target=h,k.relatedTarget=M,y=k),M=y,S&&v)t:{for(k=S,f=v,c=0,h=k;h;h=vn(h))c++;for(h=0,y=f;y;y=vn(y))h++;for(;0<c-h;)k=vn(k),c--;for(;0<h-c;)f=vn(f),h--;for(;c--;){if(k===f||f!==null&&k===f.alternate)break t;k=vn(k),f=vn(f)}k=null}else k=null;S!==null&&Ba(p,g,S,k,!1),v!==null&&M!==null&&Ba(p,M,v,k,!0)}}e:{if(g=d?Nn(d):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var _=Jh;else if(Oa(g))if(Ac)_=tp;else{_=Zh;var x=qh}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=ep);if(_&&(_=_(e,d))){Oc(p,_,n,m);break e}x&&x(e,g,d),e==="focusout"&&(x=g._wrapperState)&&x.controlled&&g.type==="number"&&yl(g,"number",g.value)}switch(x=d?Nn(d):window,e){case"focusin":(Oa(x)||x.contentEditable==="true")&&(_n=x,Rl=d,pr=null);break;case"focusout":pr=Rl=_n=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Ha(p,n,m);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":Ha(p,n,m)}var E;if(_i)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else kn?Lc(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Mc&&n.locale!=="ko"&&(kn||T!=="onCompositionStart"?T==="onCompositionEnd"&&kn&&(E=Ic()):(Mt=m,wi="value"in Mt?Mt.value:Mt.textContent,kn=!0)),x=Ls(d,T),0<x.length&&(T=new Ia(T,e,null,n,m),p.push({event:T,listeners:x}),E?T.data=E:(E=bc(n),E!==null&&(T.data=E)))),(E=Gh?Qh(e,n):Kh(e,n))&&(d=Ls(d,"onBeforeInput"),0<d.length&&(m=new Ia("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:d}),m.data=E))}Qc(p,t)})}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ls(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=_r(e,n),o!=null&&r.unshift(Tr(e,o,s)),o=_r(e,t),o!=null&&r.push(Tr(e,o,s))),e=e.return}return r}function vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ba(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var i=n,u=i.alternate,d=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&d!==null&&(i=d,s?(u=_r(n,o),u!=null&&l.unshift(Tr(n,u,i))):s||(u=_r(n,o),u!=null&&l.push(Tr(n,u,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ap=/\r\n?/g,up=/\u0000|\uFFFD/g;function Va(e){return(typeof e=="string"?e:""+e).replace(ap,`
`).replace(up,"")}function os(e,t,n){if(t=Va(t),Va(e)!==t&&n)throw Error(j(425))}function bs(){}var Dl=null,Il=null;function Ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,cp=typeof clearTimeout=="function"?clearTimeout:void 0,Ga=typeof Promise=="function"?Promise:void 0,dp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ga<"u"?function(e){return Ga.resolve(null).then(e).catch(fp)}:Ll;function fp(e){setTimeout(function(){throw e})}function Wo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Er(t)}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Xn,Dr="__reactProps$"+Xn,_t="__reactContainer$"+Xn,bl="__reactEvents$"+Xn,hp="__reactListeners$"+Xn,pp="__reactHandles$"+Xn;function Jt(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qa(e);e!==null;){if(n=e[ut])return n;e=Qa(e)}return t}e=n,n=e.parentNode}return null}function Hr(e){return e=e[ut]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function io(e){return e[Dr]||null}var Ol=[],En=-1;function Qt(e){return{current:e}}function ee(e){0>En||(e.current=Ol[En],Ol[En]=null,En--)}function q(e,t){En++,Ol[En]=e.current,e.current=t}var Vt={},Ne=Qt(Vt),Le=Qt(!1),sn=Vt;function $n(e,t){var n=e.type.contextTypes;if(!n)return Vt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function be(e){return e=e.childContextTypes,e!=null}function Os(){ee(Le),ee(Ne)}function Ka(e,t,n){if(Ne.current!==Vt)throw Error(j(168));q(Ne,t),q(Le,n)}function Xc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,qf(e)||"Unknown",s));return oe({},n,r)}function As(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vt,sn=Ne.current,q(Ne,e),q(Le,Le.current),!0}function Xa(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=Xc(e,t,sn),r.__reactInternalMemoizedMergedChildContext=e,ee(Le),ee(Ne),q(Ne,e)):ee(Le),q(Le,n)}var gt=null,ao=!1,Bo=!1;function Yc(e){gt===null?gt=[e]:gt.push(e)}function mp(e){ao=!0,Yc(e)}function Kt(){if(!Bo&&gt!==null){Bo=!0;var e=0,t=Y;try{var n=gt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gt=null,ao=!1}catch(s){throw gt!==null&&(gt=gt.slice(e+1)),Sc(gi,Kt),s}finally{Y=t,Bo=!1}}return null}var jn=[],Pn=0,zs=null,$s=0,Ge=[],Qe=0,on=null,vt=1,xt="";function Xt(e,t){jn[Pn++]=$s,jn[Pn++]=zs,zs=e,$s=t}function Jc(e,t,n){Ge[Qe++]=vt,Ge[Qe++]=xt,Ge[Qe++]=on,on=e;var r=vt;e=xt;var s=32-st(r)-1;r&=~(1<<s),n+=1;var o=32-st(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,vt=1<<32-st(t)+s|n<<s|r,xt=o+e}else vt=1<<o|n<<s|r,xt=e}function Ni(e){e.return!==null&&(Xt(e,1),Jc(e,1,0))}function Ei(e){for(;e===zs;)zs=jn[--Pn],jn[Pn]=null,$s=jn[--Pn],jn[Pn]=null;for(;e===on;)on=Ge[--Qe],Ge[Qe]=null,xt=Ge[--Qe],Ge[Qe]=null,vt=Ge[--Qe],Ge[Qe]=null}var Fe=null,$e=null,te=!1,rt=null;function qc(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ya(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,$e=$t(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=on!==null?{id:vt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,$e=null,!0):!1;default:return!1}}function Al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zl(e){if(te){var t=$e;if(t){var n=t;if(!Ya(e,t)){if(Al(e))throw Error(j(418));t=$t(n.nextSibling);var r=Fe;t&&Ya(e,t)?qc(r,n):(e.flags=e.flags&-4097|2,te=!1,Fe=e)}}else{if(Al(e))throw Error(j(418));e.flags=e.flags&-4097|2,te=!1,Fe=e}}}function Ja(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function ls(e){if(e!==Fe)return!1;if(!te)return Ja(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ml(e.type,e.memoizedProps)),t&&(t=$e)){if(Al(e))throw Zc(),Error(j(418));for(;t;)qc(e,t),t=$t(t.nextSibling)}if(Ja(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=$t(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Fe?$t(e.stateNode.nextSibling):null;return!0}function Zc(){for(var e=$e;e;)e=$t(e.nextSibling)}function Fn(){$e=Fe=null,te=!1}function ji(e){rt===null?rt=[e]:rt.push(e)}var gp=Et.ReactCurrentBatchConfig;function nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var i=s.refs;l===null?delete i[o]:i[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function is(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){var t=e._init;return t(e._payload)}function ed(e){function t(f,c){if(e){var h=f.deletions;h===null?(f.deletions=[c],f.flags|=16):h.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function s(f,c){return f=Wt(f,c),f.index=0,f.sibling=null,f}function o(f,c,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<c?(f.flags|=2,c):h):(f.flags|=2,c)):(f.flags|=1048576,c)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function i(f,c,h,y){return c===null||c.tag!==6?(c=Jo(h,f.mode,y),c.return=f,c):(c=s(c,h),c.return=f,c)}function u(f,c,h,y){var _=h.type;return _===Sn?m(f,c,h.props.children,y,h.key):c!==null&&(c.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&qa(_)===c.type)?(y=s(c,h.props),y.ref=nr(f,c,h),y.return=f,y):(y=Cs(h.type,h.key,h.props,null,f.mode,y),y.ref=nr(f,c,h),y.return=f,y)}function d(f,c,h,y){return c===null||c.tag!==4||c.stateNode.containerInfo!==h.containerInfo||c.stateNode.implementation!==h.implementation?(c=qo(h,f.mode,y),c.return=f,c):(c=s(c,h.children||[]),c.return=f,c)}function m(f,c,h,y,_){return c===null||c.tag!==7?(c=tn(h,f.mode,y,_),c.return=f,c):(c=s(c,h),c.return=f,c)}function p(f,c,h){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Jo(""+c,f.mode,h),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Yr:return h=Cs(c.type,c.key,c.props,null,f.mode,h),h.ref=nr(f,null,c),h.return=f,h;case wn:return c=qo(c,f.mode,h),c.return=f,c;case Rt:var y=c._init;return p(f,y(c._payload),h)}if(ir(c)||Jn(c))return c=tn(c,f.mode,h,null),c.return=f,c;is(f,c)}return null}function g(f,c,h,y){var _=c!==null?c.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:i(f,c,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Yr:return h.key===_?u(f,c,h,y):null;case wn:return h.key===_?d(f,c,h,y):null;case Rt:return _=h._init,g(f,c,_(h._payload),y)}if(ir(h)||Jn(h))return _!==null?null:m(f,c,h,y,null);is(f,h)}return null}function S(f,c,h,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(h)||null,i(c,f,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yr:return f=f.get(y.key===null?h:y.key)||null,u(c,f,y,_);case wn:return f=f.get(y.key===null?h:y.key)||null,d(c,f,y,_);case Rt:var x=y._init;return S(f,c,h,x(y._payload),_)}if(ir(y)||Jn(y))return f=f.get(h)||null,m(c,f,y,_,null);is(c,y)}return null}function v(f,c,h,y){for(var _=null,x=null,E=c,T=c=0,C=null;E!==null&&T<h.length;T++){E.index>T?(C=E,E=null):C=E.sibling;var P=g(f,E,h[T],y);if(P===null){E===null&&(E=C);break}e&&E&&P.alternate===null&&t(f,E),c=o(P,c,T),x===null?_=P:x.sibling=P,x=P,E=C}if(T===h.length)return n(f,E),te&&Xt(f,T),_;if(E===null){for(;T<h.length;T++)E=p(f,h[T],y),E!==null&&(c=o(E,c,T),x===null?_=E:x.sibling=E,x=E);return te&&Xt(f,T),_}for(E=r(f,E);T<h.length;T++)C=S(E,f,T,h[T],y),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?T:C.key),c=o(C,c,T),x===null?_=C:x.sibling=C,x=C);return e&&E.forEach(function(b){return t(f,b)}),te&&Xt(f,T),_}function k(f,c,h,y){var _=Jn(h);if(typeof _!="function")throw Error(j(150));if(h=_.call(h),h==null)throw Error(j(151));for(var x=_=null,E=c,T=c=0,C=null,P=h.next();E!==null&&!P.done;T++,P=h.next()){E.index>T?(C=E,E=null):C=E.sibling;var b=g(f,E,P.value,y);if(b===null){E===null&&(E=C);break}e&&E&&b.alternate===null&&t(f,E),c=o(b,c,T),x===null?_=b:x.sibling=b,x=b,E=C}if(P.done)return n(f,E),te&&Xt(f,T),_;if(E===null){for(;!P.done;T++,P=h.next())P=p(f,P.value,y),P!==null&&(c=o(P,c,T),x===null?_=P:x.sibling=P,x=P);return te&&Xt(f,T),_}for(E=r(f,E);!P.done;T++,P=h.next())P=S(E,f,T,P.value,y),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?T:P.key),c=o(P,c,T),x===null?_=P:x.sibling=P,x=P);return e&&E.forEach(function(F){return t(f,F)}),te&&Xt(f,T),_}function M(f,c,h,y){if(typeof h=="object"&&h!==null&&h.type===Sn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Yr:e:{for(var _=h.key,x=c;x!==null;){if(x.key===_){if(_=h.type,_===Sn){if(x.tag===7){n(f,x.sibling),c=s(x,h.props.children),c.return=f,f=c;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&qa(_)===x.type){n(f,x.sibling),c=s(x,h.props),c.ref=nr(f,x,h),c.return=f,f=c;break e}n(f,x);break}else t(f,x);x=x.sibling}h.type===Sn?(c=tn(h.props.children,f.mode,y,h.key),c.return=f,f=c):(y=Cs(h.type,h.key,h.props,null,f.mode,y),y.ref=nr(f,c,h),y.return=f,f=y)}return l(f);case wn:e:{for(x=h.key;c!==null;){if(c.key===x)if(c.tag===4&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){n(f,c.sibling),c=s(c,h.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=qo(h,f.mode,y),c.return=f,f=c}return l(f);case Rt:return x=h._init,M(f,c,x(h._payload),y)}if(ir(h))return v(f,c,h,y);if(Jn(h))return k(f,c,h,y);is(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,c!==null&&c.tag===6?(n(f,c.sibling),c=s(c,h),c.return=f,f=c):(n(f,c),c=Jo(h,f.mode,y),c.return=f,f=c),l(f)):n(f,c)}return M}var Hn=ed(!0),td=ed(!1),Fs=Qt(null),Hs=null,Rn=null,Pi=null;function Ri(){Pi=Rn=Hs=null}function Ti(e){var t=Fs.current;ee(Fs),e._currentValue=t}function $l(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function On(e,t){Hs=e,Pi=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(Pi!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(Hs===null)throw Error(j(308));Rn=e,Hs.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var qt=null;function Di(e){qt===null?qt=[e]:qt.push(e)}function nd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Di(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ct(e,r)}function Ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tt=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ct(e,n)}return s=r.interleaved,s===null?(t.next=t,Di(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ct(e,n)}function vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yi(e,n)}}function Za(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var s=e.updateQueue;Tt=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var u=i,d=u.next;u.next=null,l===null?o=d:l.next=d,l=u;var m=e.alternate;m!==null&&(m=m.updateQueue,i=m.lastBaseUpdate,i!==l&&(i===null?m.firstBaseUpdate=d:i.next=d,m.lastBaseUpdate=u))}if(o!==null){var p=s.baseState;l=0,m=d=u=null,i=o;do{var g=i.lane,S=i.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:S,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,k=i;switch(g=t,S=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){p=v.call(S,p,g);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,g=typeof v=="function"?v.call(S,p,g):v,g==null)break e;p=oe({},p,g);break e;case 2:Tt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[i]:g.push(i))}else S={eventTime:S,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},m===null?(d=m=S,u=p):m=m.next=S,l|=g;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;g=i,i=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(m===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);an|=l,e.lanes=l,e.memoizedState=p}}function eu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var Ur={},ft=Qt(Ur),Ir=Qt(Ur),Mr=Qt(Ur);function Zt(e){if(e===Ur)throw Error(j(174));return e}function Mi(e,t){switch(q(Mr,t),q(Ir,e),q(ft,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xl(t,e)}ee(ft),q(ft,t)}function Un(){ee(ft),ee(Ir),ee(Mr)}function sd(e){Zt(Mr.current);var t=Zt(ft.current),n=xl(t,e.type);t!==n&&(q(Ir,e),q(ft,n))}function Li(e){Ir.current===e&&(ee(ft),ee(Ir))}var re=Qt(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function bi(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var xs=Et.ReactCurrentDispatcher,Go=Et.ReactCurrentBatchConfig,ln=0,se=null,fe=null,ge=null,Bs=!1,mr=!1,Lr=0,yp=0;function ke(){throw Error(j(321))}function Oi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function Ai(e,t,n,r,s,o){if(ln=o,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xs.current=e===null||e.memoizedState===null?Sp:kp,e=n(r,s),mr){o=0;do{if(mr=!1,Lr=0,25<=o)throw Error(j(301));o+=1,ge=fe=null,t.updateQueue=null,xs.current=_p,e=n(r,s)}while(mr)}if(xs.current=Vs,t=fe!==null&&fe.next!==null,ln=0,ge=fe=se=null,Bs=!1,t)throw Error(j(300));return e}function zi(){var e=Lr!==0;return Lr=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?se.memoizedState=ge=e:ge=ge.next=e,ge}function Ze(){if(fe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ge===null?se.memoizedState:ge.next;if(t!==null)ge=t,fe=e;else{if(e===null)throw Error(j(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ge===null?se.memoizedState=ge=e:ge=ge.next=e}return ge}function br(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=Ze(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=l=null,u=null,d=o;do{var m=d.lane;if((ln&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(i=u=p,l=r):u=u.next=p,se.lanes|=m,an|=m}d=d.next}while(d!==null&&d!==o);u===null?l=r:u.next=i,lt(r,t.memoizedState)||(Me=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,se.lanes|=o,an|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=Ze(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);lt(o,t.memoizedState)||(Me=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function od(){}function ld(e,t){var n=se,r=Ze(),s=t(),o=!lt(r.memoizedState,s);if(o&&(r.memoizedState=s,Me=!0),r=r.queue,$i(ud.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Or(9,ad.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(j(349));ln&30||id(n,t,s)}return s}function id(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ad(e,t,n,r){t.value=n,t.getSnapshot=r,cd(t)&&dd(e)}function ud(e,t,n){return n(function(){cd(t)&&dd(e)})}function cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lt(e,n)}catch{return!0}}function dd(e){var t=Ct(e,1);t!==null&&ot(t,e,1,-1)}function tu(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=wp.bind(null,se,e),[t.memoizedState,e]}function Or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fd(){return Ze().memoizedState}function ws(e,t,n,r){var s=at();se.flags|=e,s.memoizedState=Or(1|t,n,void 0,r===void 0?null:r)}function uo(e,t,n,r){var s=Ze();r=r===void 0?null:r;var o=void 0;if(fe!==null){var l=fe.memoizedState;if(o=l.destroy,r!==null&&Oi(r,l.deps)){s.memoizedState=Or(t,n,o,r);return}}se.flags|=e,s.memoizedState=Or(1|t,n,o,r)}function nu(e,t){return ws(8390656,8,e,t)}function $i(e,t){return uo(2048,8,e,t)}function hd(e,t){return uo(4,2,e,t)}function pd(e,t){return uo(4,4,e,t)}function md(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gd(e,t,n){return n=n!=null?n.concat([e]):null,uo(4,4,md.bind(null,t,e),n)}function Fi(){}function yd(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vd(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xd(e,t,n){return ln&21?(lt(n,t)||(n=Cc(),se.lanes|=n,an|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function vp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Go.transition;Go.transition={};try{e(!1),t()}finally{Y=n,Go.transition=r}}function wd(){return Ze().memoizedState}function xp(e,t,n){var r=Ut(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sd(e))kd(t,n);else if(n=nd(e,t,n,r),n!==null){var s=Pe();ot(n,e,r,s),_d(n,t,r)}}function wp(e,t,n){var r=Ut(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sd(e))kd(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,i=o(l,n);if(s.hasEagerState=!0,s.eagerState=i,lt(i,l)){var u=t.interleaved;u===null?(s.next=s,Di(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=nd(e,t,s,r),n!==null&&(s=Pe(),ot(n,e,r,s),_d(n,t,r))}}function Sd(e){var t=e.alternate;return e===se||t!==null&&t===se}function kd(e,t){mr=Bs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _d(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yi(e,n)}}var Vs={readContext:qe,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Sp={readContext:qe,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:nu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ws(4194308,4,md.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var n=at();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=at();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xp.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:Fi,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=vp.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,s=at();if(te){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ye===null)throw Error(j(349));ln&30||id(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,nu(ud.bind(null,r,o,e),[e]),r.flags|=2048,Or(9,ad.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=at(),t=ye.identifierPrefix;if(te){var n=xt,r=vt;n=(r&~(1<<32-st(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kp={readContext:qe,useCallback:yd,useContext:qe,useEffect:$i,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:pd,useMemo:vd,useReducer:Qo,useRef:fd,useState:function(){return Qo(br)},useDebugValue:Fi,useDeferredValue:function(e){var t=Ze();return xd(t,fe.memoizedState,e)},useTransition:function(){var e=Qo(br)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:od,useSyncExternalStore:ld,useId:wd,unstable_isNewReconciler:!1},_p={readContext:qe,useCallback:yd,useContext:qe,useEffect:$i,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:pd,useMemo:vd,useReducer:Ko,useRef:fd,useState:function(){return Ko(br)},useDebugValue:Fi,useDeferredValue:function(e){var t=Ze();return fe===null?t.memoizedState=e:xd(t,fe.memoizedState,e)},useTransition:function(){var e=Ko(br)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:od,useSyncExternalStore:ld,useId:wd,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var co={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pe(),s=Ut(e),o=St(r,s);o.payload=t,n!=null&&(o.callback=n),t=Ft(e,o,s),t!==null&&(ot(t,e,s,r),vs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pe(),s=Ut(e),o=St(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ft(e,o,s),t!==null&&(ot(t,e,s,r),vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),r=Ut(e),s=St(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ft(e,s,r),t!==null&&(ot(t,e,r,n),vs(t,e,r))}};function ru(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Pr(n,r)||!Pr(s,o):!0}function Cd(e,t,n){var r=!1,s=Vt,o=t.contextType;return typeof o=="object"&&o!==null?o=qe(o):(s=be(t)?sn:Ne.current,r=t.contextTypes,o=(r=r!=null)?$n(e,s):Vt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=co,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function su(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function Hl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ii(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=qe(o):(o=be(t)?sn:Ne.current,s.context=$n(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fl(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&co.enqueueReplaceState(s,s.state,null),Us(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",r=t;do n+=Jf(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Xo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ul(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cp=typeof WeakMap=="function"?WeakMap:Map;function Nd(e,t,n){n=St(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,ql=r),Ul(e,t)},n}function Ed(e,t,n){n=St(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ul(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ul(e,t),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ou(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zp.bind(null,e,t,n),t.then(e,e))}function lu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=St(-1,1),t.tag=2,Ft(n,t,1))),n.lanes|=1),e)}var Np=Et.ReactCurrentOwner,Me=!1;function je(e,t,n,r){t.child=e===null?td(t,null,n,r):Hn(t,e.child,n,r)}function au(e,t,n,r,s){n=n.render;var o=t.ref;return On(t,s),r=Ai(e,t,n,r,o,s),n=zi(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(te&&n&&Ni(t),t.flags|=1,je(e,t,r,s),t.child)}function uu(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ki(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jd(e,t,o,r,s)):(e=Cs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pr,n(l,r)&&e.ref===t.ref)return Nt(e,t,s)}return t.flags|=1,e=Wt(o,r),e.ref=t.ref,e.return=t,t.child=e}function jd(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Pr(o,r)&&e.ref===t.ref)if(Me=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Nt(e,t,s)}return Wl(e,t,n,r,s)}function Pd(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Dn,ze),ze|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Dn,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,q(Dn,ze),ze|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,q(Dn,ze),ze|=r;return je(e,t,s,n),t.child}function Rd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,n,r,s){var o=be(n)?sn:Ne.current;return o=$n(t,o),On(t,s),n=Ai(e,t,n,r,o,s),r=zi(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(te&&r&&Ni(t),t.flags|=1,je(e,t,n,s),t.child)}function cu(e,t,n,r,s){if(be(n)){var o=!0;As(t)}else o=!1;if(On(t,s),t.stateNode===null)Ss(e,t),Cd(t,n,r),Hl(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var u=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=qe(d):(d=be(n)?sn:Ne.current,d=$n(t,d));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||u!==d)&&su(t,l,r,d),Tt=!1;var g=t.memoizedState;l.state=g,Us(t,r,l,s),u=t.memoizedState,i!==r||g!==u||Le.current||Tt?(typeof m=="function"&&(Fl(t,n,m,r),u=t.memoizedState),(i=Tt||ru(t,n,i,r,g,u,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=d,r=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,rd(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:tt(t.type,i),l.props=d,p=t.pendingProps,g=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=qe(u):(u=be(n)?sn:Ne.current,u=$n(t,u));var S=n.getDerivedStateFromProps;(m=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==p||g!==u)&&su(t,l,r,u),Tt=!1,g=t.memoizedState,l.state=g,Us(t,r,l,s);var v=t.memoizedState;i!==p||g!==v||Le.current||Tt?(typeof S=="function"&&(Fl(t,n,S,r),v=t.memoizedState),(d=Tt||ru(t,n,d,r,g,v,u)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=u,r=d):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Bl(e,t,n,r,o,s)}function Bl(e,t,n,r,s,o){Rd(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Xa(t,n,!1),Nt(e,t,o);r=t.stateNode,Np.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Hn(t,e.child,null,o),t.child=Hn(t,null,i,o)):je(e,t,i,o),t.memoizedState=r.state,s&&Xa(t,n,!0),t.child}function Td(e){var t=e.stateNode;t.pendingContext?Ka(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ka(e,t.context,!1),Mi(e,t.containerInfo)}function du(e,t,n,r,s){return Fn(),ji(s),t.flags|=256,je(e,t,n,r),t.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dd(e,t,n){var r=t.pendingProps,s=re.current,o=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(re,s&1),e===null)return zl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=po(l,r,0,null),e=tn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Gl(n),t.memoizedState=Vl,e):Hi(t,l));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return Ep(e,t,l,r,i,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,i=s.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Wt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=Wt(i,o):(o=tn(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Gl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Vl,r}return o=e.child,e=o.sibling,r=Wt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hi(e,t){return t=po({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,n,r){return r!==null&&ji(r),Hn(t,e.child,null,n),e=Hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ep(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Xo(Error(j(422))),as(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=po({mode:"visible",children:r.children},s,0,null),o=tn(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Hn(t,e.child,null,l),t.child.memoizedState=Gl(l),t.memoizedState=Vl,o);if(!(t.mode&1))return as(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(j(419)),r=Xo(o,r,void 0),as(e,t,l,r)}if(i=(l&e.childLanes)!==0,Me||i){if(r=ye,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ct(e,s),ot(r,e,s,-1))}return Qi(),r=Xo(Error(j(421))),as(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$p.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,$e=$t(s.nextSibling),Fe=t,te=!0,rt=null,e!==null&&(Ge[Qe++]=vt,Ge[Qe++]=xt,Ge[Qe++]=on,vt=e.id,xt=e.overflow,on=t),t=Hi(t,r.children),t.flags|=4096,t)}function fu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$l(e.return,t,n)}function Yo(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Id(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(je(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fu(e,n,t);else if(e.tag===19)fu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(re,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yo(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ws(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yo(t,!0,n,null,o);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ss(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Wt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jp(e,t,n){switch(t.tag){case 3:Td(t),Fn();break;case 5:sd(t);break;case 1:be(t.type)&&As(t);break;case 4:Mi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;q(Fs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Dd(e,t,n):(q(re,re.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);q(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Id(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,Pd(e,t,n)}return Nt(e,t,n)}var Md,Ql,Ld,bd;Md=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ql=function(){};Ld=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zt(ft.current);var o=null;switch(n){case"input":s=ml(e,s),r=ml(e,r),o=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),o=[];break;case"textarea":s=vl(e,s),r=vl(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bs)}wl(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var i=s[d];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Sr.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(i=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==i&&(u!=null||i!=null))if(d==="style")if(i){for(l in i)!i.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&i[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Sr.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Z("scroll",e),o||i===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};bd=function(e,t,n,r){n!==r&&(t.flags|=4)};function rr(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pp(e,t,n){var r=t.pendingProps;switch(Ei(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return be(t.type)&&Os(),_e(t),null;case 3:return r=t.stateNode,Un(),ee(Le),ee(Ne),bi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rt!==null&&(ti(rt),rt=null))),Ql(e,t),_e(t),null;case 5:Li(t);var s=Zt(Mr.current);if(n=t.type,e!==null&&t.stateNode!=null)Ld(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return _e(t),null}if(e=Zt(ft.current),ls(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ut]=t,r[Dr]=o,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<ur.length;s++)Z(ur[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":Sa(r,o),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Z("invalid",r);break;case"textarea":_a(r,o),Z("invalid",r)}wl(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var i=o[l];l==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&os(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&os(r.textContent,i,e),s=["children",""+i]):Sr.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&Z("scroll",r)}switch(n){case"input":Jr(r),ka(r,o,!0);break;case"textarea":Jr(r),Ca(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ut]=t,e[Dr]=r,Md(e,t,!1,!1),t.stateNode=e;e:{switch(l=Sl(n,r),n){case"dialog":Z("cancel",e),Z("close",e),s=r;break;case"iframe":case"object":case"embed":Z("load",e),s=r;break;case"video":case"audio":for(s=0;s<ur.length;s++)Z(ur[s],e);s=r;break;case"source":Z("error",e),s=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=r;break;case"details":Z("toggle",e),s=r;break;case"input":Sa(e,r),s=ml(e,r),Z("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),Z("invalid",e);break;case"textarea":_a(e,r),s=vl(e,r),Z("invalid",e);break;default:s=r}wl(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="style"?fc(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cc(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&kr(e,u):typeof u=="number"&&kr(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sr.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Z("scroll",e):u!=null&&di(e,o,u,l))}switch(n){case"input":Jr(e),ka(e,r,!1);break;case"textarea":Jr(e),Ca(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?In(e,!!r.multiple,o,!1):r.defaultValue!=null&&In(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)bd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Zt(Mr.current),Zt(ft.current),ls(t)){if(r=t.stateNode,n=t.memoizedProps,r[ut]=t,(o=r.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:os(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ut]=t,t.stateNode=r}return _e(t),null;case 13:if(ee(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&$e!==null&&t.mode&1&&!(t.flags&128))Zc(),Fn(),t.flags|=98560,o=!1;else if(o=ls(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(j(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[ut]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),o=!1}else rt!==null&&(ti(rt),rt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?he===0&&(he=3):Qi())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Un(),Ql(e,t),e===null&&Rr(t.stateNode.containerInfo),_e(t),null;case 10:return Ti(t.type._context),_e(t),null;case 17:return be(t.type)&&Os(),_e(t),null;case 19:if(ee(re),o=t.memoizedState,o===null)return _e(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)rr(o,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ws(e),l!==null){for(t.flags|=128,rr(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(re,re.current&1|2),t.child}e=e.sibling}o.tail!==null&&ce()>Bn&&(t.flags|=128,r=!0,rr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ws(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!te)return _e(t),null}else 2*ce()-o.renderingStartTime>Bn&&n!==1073741824&&(t.flags|=128,r=!0,rr(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ce(),t.sibling=null,n=re.current,q(re,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Gi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ze&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Rp(e,t){switch(Ei(t),t.tag){case 1:return be(t.type)&&Os(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(),ee(Le),ee(Ne),bi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Li(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return Un(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return Gi(),null;case 24:return null;default:return null}}var us=!1,Ce=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,L=null;function Tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Kl(e,t,n){try{n()}catch(r){ae(e,t,r)}}var hu=!1;function Dp(e,t){if(Dl=Is,e=Fc(),Ci(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,i=-1,u=-1,d=0,m=0,p=e,g=null;t:for(;;){for(var S;p!==n||s!==0&&p.nodeType!==3||(i=l+s),p!==o||r!==0&&p.nodeType!==3||(u=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(S=p.firstChild)!==null;)g=p,p=S;for(;;){if(p===e)break t;if(g===n&&++d===s&&(i=l),g===o&&++m===r&&(u=l),(S=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=S}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Il={focusedElem:e,selectionRange:n},Is=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,M=v.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?k:tt(t.type,k),M);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(y){ae(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return v=hu,hu=!1,v}function gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Kl(t,n,o)}s=s.next}while(s!==r)}}function fo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Od(e){var t=e.alternate;t!==null&&(e.alternate=null,Od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[Dr],delete t[bl],delete t[hp],delete t[pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ad(e){return e.tag===5||e.tag===3||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bs));else if(r!==4&&(e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}var ve=null,nt=!1;function Pt(e,t,n){for(n=n.child;n!==null;)zd(e,t,n),n=n.sibling}function zd(e,t,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ro,n)}catch{}switch(n.tag){case 5:Ce||Tn(n,t);case 6:var r=ve,s=nt;ve=null,Pt(e,t,n),ve=r,nt=s,ve!==null&&(nt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(nt?(e=ve,n=n.stateNode,e.nodeType===8?Wo(e.parentNode,n):e.nodeType===1&&Wo(e,n),Er(e)):Wo(ve,n.stateNode));break;case 4:r=ve,s=nt,ve=n.stateNode.containerInfo,nt=!0,Pt(e,t,n),ve=r,nt=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Kl(n,t,l),s=s.next}while(s!==r)}Pt(e,t,n);break;case 1:if(!Ce&&(Tn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ae(n,t,i)}Pt(e,t,n);break;case 21:Pt(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Pt(e,t,n),Ce=r):Pt(e,t,n);break;default:Pt(e,t,n)}}function mu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tp),t.forEach(function(r){var s=Fp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:ve=i.stateNode,nt=!1;break e;case 3:ve=i.stateNode.containerInfo,nt=!0;break e;case 4:ve=i.stateNode.containerInfo,nt=!0;break e}i=i.return}if(ve===null)throw Error(j(160));zd(o,l,s),ve=null,nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){ae(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$d(t,e),t=t.sibling}function $d(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(et(t,e),it(e),r&4){try{gr(3,e,e.return),fo(3,e)}catch(k){ae(e,e.return,k)}try{gr(5,e,e.return)}catch(k){ae(e,e.return,k)}}break;case 1:et(t,e),it(e),r&512&&n!==null&&Tn(n,n.return);break;case 5:if(et(t,e),it(e),r&512&&n!==null&&Tn(n,n.return),e.flags&32){var s=e.stateNode;try{kr(s,"")}catch(k){ae(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&ic(s,o),Sl(i,l);var d=Sl(i,o);for(l=0;l<u.length;l+=2){var m=u[l],p=u[l+1];m==="style"?fc(s,p):m==="dangerouslySetInnerHTML"?cc(s,p):m==="children"?kr(s,p):di(s,m,p,d)}switch(i){case"input":gl(s,o);break;case"textarea":ac(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?In(s,!!o.multiple,S,!1):g!==!!o.multiple&&(o.defaultValue!=null?In(s,!!o.multiple,o.defaultValue,!0):In(s,!!o.multiple,o.multiple?[]:"",!1))}s[Dr]=o}catch(k){ae(e,e.return,k)}}break;case 6:if(et(t,e),it(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(k){ae(e,e.return,k)}}break;case 3:if(et(t,e),it(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(k){ae(e,e.return,k)}break;case 4:et(t,e),it(e);break;case 13:et(t,e),it(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Bi=ce())),r&4&&mu(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(d=Ce)||m,et(t,e),Ce=d):et(t,e),it(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(p=L=m;L!==null;){switch(g=L,S=g.child,g.tag){case 0:case 11:case 14:case 15:gr(4,g,g.return);break;case 1:Tn(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){ae(r,n,k)}}break;case 5:Tn(g,g.return);break;case 22:if(g.memoizedState!==null){yu(p);continue}}S!==null?(S.return=g,L=S):yu(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=p.stateNode,u=p.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=dc("display",l))}catch(k){ae(e,e.return,k)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(k){ae(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:et(t,e),it(e),r&4&&mu(e);break;case 21:break;default:et(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ad(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kr(s,""),r.flags&=-33);var o=pu(e);Jl(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,i=pu(e);Yl(e,i,l);break;default:throw Error(j(161))}}catch(u){ae(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ip(e,t,n){L=e,Fd(e)}function Fd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var s=L,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||us;if(!l){var i=s.alternate,u=i!==null&&i.memoizedState!==null||Ce;i=us;var d=Ce;if(us=l,(Ce=u)&&!d)for(L=s;L!==null;)l=L,u=l.child,l.tag===22&&l.memoizedState!==null?vu(s):u!==null?(u.return=l,L=u):vu(s);for(;o!==null;)L=o,Fd(o),o=o.sibling;L=s,us=i,Ce=d}gu(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,L=o):gu(e)}}function gu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||fo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&eu(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eu(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Er(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Ce||t.flags&512&&Xl(t)}catch(g){ae(t,t.return,g)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function yu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function vu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fo(4,t)}catch(u){ae(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ae(t,s,u)}}var o=t.return;try{Xl(t)}catch(u){ae(t,o,u)}break;case 5:var l=t.return;try{Xl(t)}catch(u){ae(t,l,u)}}}catch(u){ae(t,t.return,u)}if(t===e){L=null;break}var i=t.sibling;if(i!==null){i.return=t.return,L=i;break}L=t.return}}var Mp=Math.ceil,Gs=Et.ReactCurrentDispatcher,Ui=Et.ReactCurrentOwner,Je=Et.ReactCurrentBatchConfig,X=0,ye=null,de=null,xe=0,ze=0,Dn=Qt(0),he=0,Ar=null,an=0,ho=0,Wi=0,yr=null,Ie=null,Bi=0,Bn=1/0,mt=null,Qs=!1,ql=null,Ht=null,cs=!1,Lt=null,Ks=0,vr=0,Zl=null,ks=-1,_s=0;function Pe(){return X&6?ce():ks!==-1?ks:ks=ce()}function Ut(e){return e.mode&1?X&2&&xe!==0?xe&-xe:gp.transition!==null?(_s===0&&(_s=Cc()),_s):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Dc(e.type)),e):1}function ot(e,t,n,r){if(50<vr)throw vr=0,Zl=null,Error(j(185));$r(e,n,r),(!(X&2)||e!==ye)&&(e===ye&&(!(X&2)&&(ho|=n),he===4&&It(e,xe)),Oe(e,r),n===1&&X===0&&!(t.mode&1)&&(Bn=ce()+500,ao&&Kt()))}function Oe(e,t){var n=e.callbackNode;gh(e,t);var r=Ds(e,e===ye?xe:0);if(r===0)n!==null&&ja(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ja(n),t===1)e.tag===0?mp(xu.bind(null,e)):Yc(xu.bind(null,e)),dp(function(){!(X&6)&&Kt()}),n=null;else{switch(Nc(r)){case 1:n=gi;break;case 4:n=kc;break;case 16:n=Ts;break;case 536870912:n=_c;break;default:n=Ts}n=Kd(n,Hd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hd(e,t){if(ks=-1,_s=0,X&6)throw Error(j(327));var n=e.callbackNode;if(An()&&e.callbackNode!==n)return null;var r=Ds(e,e===ye?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xs(e,r);else{t=r;var s=X;X|=2;var o=Wd();(ye!==e||xe!==t)&&(mt=null,Bn=ce()+500,en(e,t));do try{Op();break}catch(i){Ud(e,i)}while(!0);Ri(),Gs.current=o,X=s,de!==null?t=0:(ye=null,xe=0,t=he)}if(t!==0){if(t===2&&(s=El(e),s!==0&&(r=s,t=ei(e,s))),t===1)throw n=Ar,en(e,0),It(e,r),Oe(e,ce()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!Lp(s)&&(t=Xs(e,r),t===2&&(o=El(e),o!==0&&(r=o,t=ei(e,o))),t===1))throw n=Ar,en(e,0),It(e,r),Oe(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:Yt(e,Ie,mt);break;case 3:if(It(e,r),(r&130023424)===r&&(t=Bi+500-ce(),10<t)){if(Ds(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ll(Yt.bind(null,e,Ie,mt),t);break}Yt(e,Ie,mt);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-st(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mp(r/1960))-r,10<r){e.timeoutHandle=Ll(Yt.bind(null,e,Ie,mt),r);break}Yt(e,Ie,mt);break;case 5:Yt(e,Ie,mt);break;default:throw Error(j(329))}}}return Oe(e,ce()),e.callbackNode===n?Hd.bind(null,e):null}function ei(e,t){var n=yr;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=Xs(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&ti(t)),e}function ti(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Lp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!lt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Wi,t&=~ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function xu(e){if(X&6)throw Error(j(327));An();var t=Ds(e,0);if(!(t&1))return Oe(e,ce()),null;var n=Xs(e,t);if(e.tag!==0&&n===2){var r=El(e);r!==0&&(t=r,n=ei(e,r))}if(n===1)throw n=Ar,en(e,0),It(e,t),Oe(e,ce()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yt(e,Ie,mt),Oe(e,ce()),null}function Vi(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Bn=ce()+500,ao&&Kt())}}function un(e){Lt!==null&&Lt.tag===0&&!(X&6)&&An();var t=X;X|=1;var n=Je.transition,r=Y;try{if(Je.transition=null,Y=1,e)return e()}finally{Y=r,Je.transition=n,X=t,!(X&6)&&Kt()}}function Gi(){ze=Dn.current,ee(Dn)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cp(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Ei(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Os();break;case 3:Un(),ee(Le),ee(Ne),bi();break;case 5:Li(r);break;case 4:Un();break;case 13:ee(re);break;case 19:ee(re);break;case 10:Ti(r.type._context);break;case 22:case 23:Gi()}n=n.return}if(ye=e,de=e=Wt(e.current,null),xe=ze=t,he=0,Ar=null,Wi=ho=an=0,Ie=yr=null,qt!==null){for(t=0;t<qt.length;t++)if(n=qt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}qt=null}return e}function Ud(e,t){do{var n=de;try{if(Ri(),xs.current=Vs,Bs){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bs=!1}if(ln=0,ge=fe=se=null,mr=!1,Lr=0,Ui.current=null,n===null||n.return===null){he=1,Ar=t,de=null;break}e:{var o=e,l=n.return,i=n,u=t;if(t=xe,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=i,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var S=lu(l);if(S!==null){S.flags&=-257,iu(S,l,i,o,t),S.mode&1&&ou(o,d,t),t=S,u=d;var v=t.updateQueue;if(v===null){var k=new Set;k.add(u),t.updateQueue=k}else v.add(u);break e}else{if(!(t&1)){ou(o,d,t),Qi();break e}u=Error(j(426))}}else if(te&&i.mode&1){var M=lu(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),iu(M,l,i,o,t),ji(Wn(u,i));break e}}o=u=Wn(u,i),he!==4&&(he=2),yr===null?yr=[o]:yr.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=Nd(o,u,t);Za(o,f);break e;case 1:i=u;var c=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ht===null||!Ht.has(h)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=Ed(o,i,t);Za(o,y);break e}}o=o.return}while(o!==null)}Vd(n)}catch(_){t=_,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Wd(){var e=Gs.current;return Gs.current=Vs,e===null?Vs:e}function Qi(){(he===0||he===3||he===2)&&(he=4),ye===null||!(an&268435455)&&!(ho&268435455)||It(ye,xe)}function Xs(e,t){var n=X;X|=2;var r=Wd();(ye!==e||xe!==t)&&(mt=null,en(e,t));do try{bp();break}catch(s){Ud(e,s)}while(!0);if(Ri(),X=n,Gs.current=r,de!==null)throw Error(j(261));return ye=null,xe=0,he}function bp(){for(;de!==null;)Bd(de)}function Op(){for(;de!==null&&!ih();)Bd(de)}function Bd(e){var t=Qd(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?Vd(e):de=t,Ui.current=null}function Vd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rp(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,de=null;return}}else if(n=Pp(n,t,ze),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);he===0&&(he=5)}function Yt(e,t,n){var r=Y,s=Je.transition;try{Je.transition=null,Y=1,Ap(e,t,n,r)}finally{Je.transition=s,Y=r}return null}function Ap(e,t,n,r){do An();while(Lt!==null);if(X&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(yh(e,o),e===ye&&(de=ye=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cs||(cs=!0,Kd(Ts,function(){return An(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Je.transition,Je.transition=null;var l=Y;Y=1;var i=X;X|=4,Ui.current=null,Dp(e,n),$d(n,e),rp(Il),Is=!!Dl,Il=Dl=null,e.current=n,Ip(n),ah(),X=i,Y=l,Je.transition=o}else e.current=n;if(cs&&(cs=!1,Lt=e,Ks=s),o=e.pendingLanes,o===0&&(Ht=null),dh(n.stateNode),Oe(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qs)throw Qs=!1,e=ql,ql=null,e;return Ks&1&&e.tag!==0&&An(),o=e.pendingLanes,o&1?e===Zl?vr++:(vr=0,Zl=e):vr=0,Kt(),null}function An(){if(Lt!==null){var e=Nc(Ks),t=Je.transition,n=Y;try{if(Je.transition=null,Y=16>e?16:e,Lt===null)var r=!1;else{if(e=Lt,Lt=null,Ks=0,X&6)throw Error(j(331));var s=X;for(X|=4,L=e.current;L!==null;){var o=L,l=o.child;if(L.flags&16){var i=o.deletions;if(i!==null){for(var u=0;u<i.length;u++){var d=i[u];for(L=d;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:gr(8,m,o)}var p=m.child;if(p!==null)p.return=m,L=p;else for(;L!==null;){m=L;var g=m.sibling,S=m.return;if(Od(m),m===d){L=null;break}if(g!==null){g.return=S,L=g;break}L=S}}}var v=o.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var M=k.sibling;k.sibling=null,k=M}while(k!==null)}}L=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,L=l;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gr(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,L=f;break e}L=o.return}}var c=e.current;for(L=c;L!==null;){l=L;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,L=h;else e:for(l=c;L!==null;){if(i=L,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:fo(9,i)}}catch(_){ae(i,i.return,_)}if(i===l){L=null;break e}var y=i.sibling;if(y!==null){y.return=i.return,L=y;break e}L=i.return}}if(X=s,Kt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ro,e)}catch{}r=!0}return r}finally{Y=n,Je.transition=t}}return!1}function wu(e,t,n){t=Wn(n,t),t=Nd(e,t,1),e=Ft(e,t,1),t=Pe(),e!==null&&($r(e,1,t),Oe(e,t))}function ae(e,t,n){if(e.tag===3)wu(e,e,n);else for(;t!==null;){if(t.tag===3){wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){e=Wn(n,e),e=Ed(t,e,1),t=Ft(t,e,1),e=Pe(),t!==null&&($r(t,1,e),Oe(t,e));break}}t=t.return}}function zp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(xe&n)===n&&(he===4||he===3&&(xe&130023424)===xe&&500>ce()-Bi?en(e,0):Wi|=n),Oe(e,t)}function Gd(e,t){t===0&&(e.mode&1?(t=es,es<<=1,!(es&130023424)&&(es=4194304)):t=1);var n=Pe();e=Ct(e,t),e!==null&&($r(e,t,n),Oe(e,n))}function $p(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gd(e,n)}function Fp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),Gd(e,n)}var Qd;Qd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,jp(e,t,n);Me=!!(e.flags&131072)}else Me=!1,te&&t.flags&1048576&&Jc(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ss(e,t),e=t.pendingProps;var s=$n(t,Ne.current);On(t,n),s=Ai(null,t,r,e,s,n);var o=zi();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(r)?(o=!0,As(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ii(t),s.updater=co,t.stateNode=s,s._reactInternals=t,Hl(t,r,e,n),t=Bl(null,t,r,!0,o,n)):(t.tag=0,te&&o&&Ni(t),je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ss(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Up(r),e=tt(r,e),s){case 0:t=Wl(null,t,r,e,n);break e;case 1:t=cu(null,t,r,e,n);break e;case 11:t=au(null,t,r,e,n);break e;case 14:t=uu(null,t,r,tt(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),Wl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),cu(e,t,r,s,n);case 3:e:{if(Td(t),e===null)throw Error(j(387));r=t.pendingProps,o=t.memoizedState,s=o.element,rd(e,t),Us(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Wn(Error(j(423)),t),t=du(e,t,r,n,s);break e}else if(r!==s){s=Wn(Error(j(424)),t),t=du(e,t,r,n,s);break e}else for($e=$t(t.stateNode.containerInfo.firstChild),Fe=t,te=!0,rt=null,n=td(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),r===s){t=Nt(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return sd(t),e===null&&zl(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,Ml(r,s)?l=null:o!==null&&Ml(r,o)&&(t.flags|=32),Rd(e,t),je(e,t,l,n),t.child;case 6:return e===null&&zl(t),null;case 13:return Dd(e,t,n);case 4:return Mi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hn(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),au(e,t,r,s,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,q(Fs,r._currentValue),r._currentValue=l,o!==null)if(lt(o.value,l)){if(o.children===s.children&&!Le.current){t=Nt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){l=o.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=St(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),$l(o.return,n,t),i.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(j(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),$l(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,On(t,n),s=qe(s),r=r(s),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,s=tt(r,t.pendingProps),s=tt(r.type,s),uu(e,t,r,s,n);case 15:return jd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),Ss(e,t),t.tag=1,be(r)?(e=!0,As(t)):e=!1,On(t,n),Cd(t,r,s),Hl(t,r,s,n),Bl(null,t,r,!0,e,n);case 19:return Id(e,t,n);case 22:return Pd(e,t,n)}throw Error(j(156,t.tag))};function Kd(e,t){return Sc(e,t)}function Hp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new Hp(e,t,n,r)}function Ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Up(e){if(typeof e=="function")return Ki(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hi)return 11;if(e===pi)return 14}return 2}function Wt(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cs(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")Ki(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Sn:return tn(n.children,s,o,t);case fi:l=8,s|=8;break;case dl:return e=Ke(12,n,t,s|2),e.elementType=dl,e.lanes=o,e;case fl:return e=Ke(13,n,t,s),e.elementType=fl,e.lanes=o,e;case hl:return e=Ke(19,n,t,s),e.elementType=hl,e.lanes=o,e;case sc:return po(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nc:l=10;break e;case rc:l=9;break e;case hi:l=11;break e;case pi:l=14;break e;case Rt:l=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Ke(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function tn(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function po(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=sc,e.lanes=n,e.stateNode={isHidden:!1},e}function Jo(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function qo(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Io(0),this.expirationTimes=Io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xi(e,t,n,r,s,o,l,i,u){return e=new Wp(e,t,n,i,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ke(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(o),e}function Bp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xd(e){if(!e)return Vt;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(be(n))return Xc(e,n,t)}return t}function Yd(e,t,n,r,s,o,l,i,u){return e=Xi(n,r,!0,e,s,o,l,i,u),e.context=Xd(null),n=e.current,r=Pe(),s=Ut(n),o=St(r,s),o.callback=t??null,Ft(n,o,s),e.current.lanes=s,$r(e,s,r),Oe(e,r),e}function mo(e,t,n,r){var s=t.current,o=Pe(),l=Ut(s);return n=Xd(n),t.context===null?t.context=n:t.pendingContext=n,t=St(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ft(s,t,l),e!==null&&(ot(e,s,l,o),vs(e,s,l)),l}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yi(e,t){Su(e,t),(e=e.alternate)&&Su(e,t)}function Vp(){return null}var Jd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ji(e){this._internalRoot=e}go.prototype.render=Ji.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));mo(e,t,null,null)};go.prototype.unmount=Ji.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;un(function(){mo(null,e,null,null)}),t[_t]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&t!==0&&t<Dt[n].priority;n++);Dt.splice(n,0,e),n===0&&Tc(e)}};function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ku(){}function Gp(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var d=Ys(l);o.call(d)}}var l=Yd(t,r,e,0,null,!1,!1,"",ku);return e._reactRootContainer=l,e[_t]=l.current,Rr(e.nodeType===8?e.parentNode:e),un(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var d=Ys(u);i.call(d)}}var u=Xi(e,0,!1,null,null,!1,!1,"",ku);return e._reactRootContainer=u,e[_t]=u.current,Rr(e.nodeType===8?e.parentNode:e),un(function(){mo(t,u,n,r)}),u}function vo(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var i=s;s=function(){var u=Ys(l);i.call(u)}}mo(t,l,e,s)}else l=Gp(n,t,e,s,r);return Ys(l)}Ec=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(yi(t,n|1),Oe(t,ce()),!(X&6)&&(Bn=ce()+500,Kt()))}break;case 13:un(function(){var r=Ct(e,1);if(r!==null){var s=Pe();ot(r,e,1,s)}}),Yi(e,1)}};vi=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var n=Pe();ot(t,e,134217728,n)}Yi(e,134217728)}};jc=function(e){if(e.tag===13){var t=Ut(e),n=Ct(e,t);if(n!==null){var r=Pe();ot(n,e,t,r)}Yi(e,t)}};Pc=function(){return Y};Rc=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};_l=function(e,t,n){switch(t){case"input":if(gl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=io(r);if(!s)throw Error(j(90));lc(r),gl(r,s)}}}break;case"textarea":ac(e,n);break;case"select":t=n.value,t!=null&&In(e,!!n.multiple,t,!1)}};mc=Vi;gc=un;var Qp={usingClientEntryPoint:!1,Events:[Hr,Nn,io,hc,pc,Vi]},sr={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kp={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xc(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||Vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{ro=ds.inject(Kp),dt=ds}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qp;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qi(t))throw Error(j(200));return Bp(e,t,null,n)};Ue.createRoot=function(e,t){if(!qi(e))throw Error(j(299));var n=!1,r="",s=Jd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xi(e,1,!1,null,null,n,!1,r,s),e[_t]=t.current,Rr(e.nodeType===8?e.parentNode:e),new Ji(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=xc(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return un(e)};Ue.hydrate=function(e,t,n){if(!yo(t))throw Error(j(200));return vo(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!qi(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=Jd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Yd(t,null,e,1,n??null,s,!1,o,l),e[_t]=t.current,Rr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new go(t)};Ue.render=function(e,t,n){if(!yo(t))throw Error(j(200));return vo(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!yo(e))throw Error(j(40));return e._reactRootContainer?(un(function(){vo(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Ue.unstable_batchedUpdates=Vi;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yo(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return vo(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qd)}catch(e){console.error(e)}}qd(),qu.exports=Ue;var Xp=qu.exports,_u=Xp;ul.createRoot=_u.createRoot,ul.hydrateRoot=_u.hydrateRoot;var D=(e=>(e.HOME="HOME",e.ENGLISH="ENGLISH",e.CHINESE="CHINESE",e.WRITING="WRITING",e.SCIENCE="SCIENCE",e.GAME="GAME",e.SCENE="SCENE",e.DRAWING="DRAWING",e.MATH="MATH",e))(D||{}),$=(e=>(e.IDLE="IDLE",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e))($||{});const Yp=({children:e,currentView:t,onNavigate:n,score:r=0,age:s,onSetAge:o,voiceId:l,onSetVoiceId:i,onOpenHistory:u})=>{const[d,m]=w.useState(!1);w.useEffect(()=>{const g=()=>{m(!!document.fullscreenElement)};document.addEventListener("fullscreenchange",g);const S=()=>{document.fullscreenElement||document.documentElement.requestFullscreen().catch(v=>{console.debug("Auto-fullscreen blocked or cancelled",v)}),window.removeEventListener("click",S),window.removeEventListener("touchstart",S)};return window.addEventListener("click",S),window.addEventListener("touchstart",S),()=>{document.removeEventListener("fullscreenchange",g),window.removeEventListener("click",S),window.removeEventListener("touchstart",S)}},[]);const p=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(g=>{alert("")})};return a.jsxs("div",{className:"min-h-screen flex flex-col font-sans text-gray-800",children:[a.jsx("header",{className:"bg-white/90 backdrop-blur-md sticky top-0 z-50 shadow-sm border-b border-gray-100 transition-all",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:scale-105 transition-transform flex-shrink-0",onClick:()=>n(D.HOME),children:[a.jsx("span",{className:"text-3xl animate-bounce",children:""}),a.jsxs("div",{className:"flex text-2xl font-black tracking-wider hidden sm:flex",children:[a.jsx("span",{className:"text-kid-purple",children:""}),a.jsx("span",{className:"text-kid-pink",children:""}),a.jsx("span",{className:"text-kid-yellow",children:""}),a.jsx("span",{className:"text-kid-blue",children:""})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 overflow-x-auto no-scrollbar",children:[a.jsxs("div",{className:"flex items-center bg-indigo-50 rounded-full px-2 py-1 border border-indigo-100",children:[a.jsx("span",{className:"text-[10px] font-bold text-indigo-400 mr-1 hidden sm:inline",children:"AGE"}),a.jsx("select",{value:s,onChange:g=>o(parseInt(g.target.value)),className:"appearance-none bg-transparent text-indigo-700 font-black text-sm sm:text-lg focus:outline-none cursor-pointer hover:text-indigo-500 text-center w-10 sm:w-12",children:[3,4,5,6,7,8,9,10,11,12].map(g=>a.jsxs("option",{value:g,children:[g,""]},g))})]}),a.jsx("div",{className:"flex items-center bg-pink-50 rounded-full px-2 py-1 border border-pink-100",children:a.jsxs("select",{value:l,onChange:g=>i(g.target.value),className:"appearance-none bg-transparent text-pink-700 font-bold text-sm sm:text-base focus:outline-none cursor-pointer hover:text-pink-500 text-center px-1",title:"AI",children:[a.jsx("option",{value:"RANDOM",children:" "}),a.jsx("option",{value:"zh-CN-XiaoyuMultilingualNeural",children:" "}),a.jsx("option",{value:"zh-CN-XiaoshuangNeural",children:" "})]})}),a.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-3 py-1.5 rounded-full font-bold flex items-center gap-1 border-2 border-yellow-300 shadow-sm whitespace-nowrap",children:[a.jsx("span",{children:""}),a.jsx("span",{children:r})]}),a.jsx("button",{onClick:p,className:`p-2 rounded-full transition-colors ${d?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-500 hover:bg-purple-50"}`,title:d?"":"",children:d?"":""}),a.jsx("button",{onClick:u,className:"p-2 rounded-full bg-blue-50 text-kid-blue hover:bg-blue-100 transition-colors",title:"",children:""}),a.jsx("nav",{className:"flex gap-2",children:t!==D.HOME&&a.jsxs("button",{onClick:()=>n(D.HOME),className:"p-2 sm:px-4 sm:py-2 rounded-full bg-gray-100 hover:bg-gray-200 text-sm font-medium transition-colors whitespace-nowrap",children:[" ",a.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]})}),a.jsx("main",{className:"flex-1 max-w-7xl mx-auto w-full px-4 py-6",children:e}),a.jsx("footer",{className:"py-6 text-center text-gray-400 text-sm",children:a.jsx("p",{children:"Powered by Dad  Designed for RuoYi"})})]})},Jp=({isOpen:e,onClose:t,history:n,onRestore:r,onClear:s,onResetProgress:o})=>{const[l,i]=w.useState(""),u=n.reduce((f,c)=>{const h=new Date(c.timestamp),y=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")}`;return f[y]||(f[y]=[]),f[y].push(c),f},{}),d=Object.keys(u).sort((f,c)=>c.localeCompare(f));if(w.useEffect(()=>{e&&d.length>0&&(!l||!u[l])&&i(d[0])},[e,n,l,d.length]),!e)return null;const m=u[l]||[],p=m.filter(f=>f.mode===D.CHINESE&&f.type==="FLASHCARD").length,g=m.filter(f=>f.mode===D.ENGLISH&&f.type==="FLASHCARD").length,S=m.filter(f=>f.type==="WRITING").length,v=f=>{const[c,h,y]=f.split("-").map(Number);return new Date(c,h-1,y).toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit",weekday:"short"})},k=()=>{window.confirm("")&&(o(),t())},M=()=>{window.confirm("")&&s()};return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:t}),a.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[85vh] animate-bounce-in relative z-10",children:[a.jsxs("div",{className:"p-6 bg-white border-b border-gray-100 text-gray-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{children:""})," "]}),a.jsx("button",{onClick:t,className:"bg-gray-100 hover:bg-gray-200 rounded-full w-8 h-8 flex items-center justify-center font-bold text-gray-500 transition-colors",children:""})]}),a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar mb-4",children:[d.length===0&&a.jsx("span",{className:"text-gray-400 text-sm",children:""}),d.map(f=>a.jsx("button",{onClick:()=>i(f),className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-colors border ${l===f?"bg-kid-blue text-white border-kid-blue shadow-md":"bg-white text-black border-gray-300 hover:bg-gray-100"}`,children:v(f)},f))]}),a.jsxs("div",{className:"flex justify-between bg-gray-50 rounded-xl p-3 border border-gray-100",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-2xl font-black text-kid-yellow",children:p}),a.jsx("p",{className:"text-[10px] text-gray-400",children:""})]}),a.jsx("div",{className:"w-px bg-gray-200"}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-2xl font-black text-kid-pink",children:g}),a.jsx("p",{className:"text-[10px] text-gray-400",children:""})]}),a.jsx("div",{className:"w-px bg-gray-200"}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-2xl font-black text-kid-green",children:S}),a.jsx("p",{className:"text-[10px] text-gray-400",children:""})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 no-scrollbar bg-gray-50",children:m.length===0?a.jsxs("div",{className:"text-center text-gray-400 py-10",children:[a.jsx("p",{className:"text-4xl mb-2",children:""}),a.jsx("p",{children:""})]}):m.map(f=>a.jsxs("button",{onClick:()=>{f.type!=="WRITING"&&(r(f),t())},disabled:f.type==="WRITING",className:"w-full bg-white border border-gray-200 rounded-xl p-3 flex items-center gap-3 hover:shadow-md transition-all text-left shadow-sm group",children:[a.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center text-lg shadow-sm shrink-0
                  ${f.type==="WRITING"?"bg-green-100":f.mode===D.CHINESE?"bg-yellow-100":"bg-pink-100"}
                `,children:f.type==="WRITING"?"":f.type==="SCIENCE"?"":f.mode===D.CHINESE?"":""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("p",{className:"font-bold text-gray-900 truncate text-base",children:f.preview}),a.jsx("span",{className:"text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full whitespace-nowrap ml-2",children:new Date(f.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:f.type==="WRITING"?"":f.type==="SCIENCE"?"":f.mode===D.CHINESE?"":""})]}),f.type!=="WRITING"&&a.jsx("span",{className:"text-gray-300 group-hover:text-kid-blue text-xl",children:""})]},f.id))}),a.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center gap-4",children:[a.jsx("button",{onClick:M,className:"text-gray-400 text-sm hover:text-red-500 flex items-center gap-1 transition-colors",children:" "}),a.jsx("button",{onClick:k,className:"text-gray-400 text-sm hover:text-orange-500 flex items-center gap-1 transition-colors",children:" "})]})]})]})},Cu=({children:e,className:t=""})=>{const n=w.useRef(null),[r,s]=w.useState(!1),[o,l]=w.useState(0),[i,u]=w.useState(0),d=S=>{n.current&&(s(!0),l(S.pageX-n.current.offsetLeft),u(n.current.scrollLeft))},m=()=>s(!1),p=()=>s(!1),g=S=>{if(!r||!n.current)return;S.preventDefault();const k=(S.pageX-n.current.offsetLeft-o)*1.5;n.current.scrollLeft=i-k};return a.jsx("div",{ref:n,className:`${t} ${r?"cursor-grabbing":"cursor-grab"}`,onMouseDown:d,onMouseLeave:m,onMouseUp:p,onMouseMove:g,children:e})},Nu=({onNavigate:e,progress:t})=>{const n=[{id:D.ENGLISH,title:"",subtitle:"English",icon:"",color:"bg-kid-pink"},{id:D.CHINESE,title:"",subtitle:"Chinese",icon:"",color:"bg-kid-yellow"},{id:D.MATH,title:"",subtitle:"Math",icon:"",color:"bg-blue-400"},{id:D.WRITING,title:"",subtitle:"Writing",icon:"",color:"bg-kid-green"},{id:D.DRAWING,title:"",subtitle:"Painting",icon:"",color:"bg-purple-400"}],r=[{id:D.GAME,title:"",subtitle:"Adventure",icon:"",color:"bg-green-400"},{id:D.SCENE,title:"",subtitle:"Chat",icon:"",color:"bg-orange-400"},{id:D.SCIENCE,title:"",subtitle:"Science",icon:"",color:"bg-kid-blue"}],s=100,o=l=>{const i=t[l.id]||{xp:0,level:1},u=i.xp%s/s*100;return a.jsxs("div",{onClick:d=>{e(l.id)},className:"relative flex-shrink-0 w-36 h-40 sm:w-44 sm:h-48 rounded-3xl p-4 bg-white shadow-lg border-2 border-transparent hover:border-blue-200 hover:scale-105 transition-all duration-300 flex flex-col justify-between overflow-hidden snap-center select-none cursor-pointer",children:[a.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 -mr-6 -mt-6 rounded-full opacity-15 ${l.color}`}),a.jsx("div",{className:`absolute bottom-0 left-0 w-16 h-16 -ml-4 -mb-4 rounded-full opacity-10 ${l.color}`}),a.jsxs("div",{className:"relative z-10 w-full text-center pointer-events-none",children:[a.jsx("div",{className:"text-4xl sm:text-5xl mb-2 drop-shadow-sm",children:l.icon}),a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 leading-tight",children:l.title}),a.jsx("p",{className:"text-xs text-gray-400 font-bold mt-1 uppercase",children:l.subtitle})]}),a.jsxs("div",{className:"relative z-10 w-full mt-2 pointer-events-none",children:[a.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 mb-1",children:[a.jsxs("span",{children:["Lv.",i.level]}),a.jsxs("span",{children:[i.xp,"XP"]})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:a.jsx("div",{className:`h-1.5 rounded-full transition-all duration-1000 ${l.color.replace("bg-","bg-")}`,style:{width:`${u}%`}})})]})]},l.id)};return a.jsxs("div",{className:"flex flex-col h-full justify-center space-y-8 animate-fade-in-up pb-4 select-none",children:[a.jsx("div",{className:"text-center py-2",children:a.jsxs("h2",{className:"text-3xl font-black text-gray-800 tracking-tight",children:["!  ",a.jsx("span",{className:"text-kid-blue",children:""})]})}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 px-4",children:[a.jsx("span",{className:"text-xl",children:""}),a.jsx("h3",{className:"text-lg font-bold text-gray-700",children:""})]}),a.jsxs(Cu,{className:"flex gap-4 overflow-x-auto pb-6 px-4 no-scrollbar snap-x touch-pan-x",children:[n.map(l=>o(l)),a.jsx("div",{className:"w-2 flex-shrink-0"})]})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 px-4",children:[a.jsx("span",{className:"text-xl",children:""}),a.jsx("h3",{className:"text-lg font-bold text-gray-700",children:""})]}),a.jsxs(Cu,{className:"flex gap-4 overflow-x-auto pb-6 px-4 no-scrollbar snap-x touch-pan-x",children:[r.map(l=>o(l)),a.jsx("div",{className:"w-2 flex-shrink-0"})]})]})]})},xo="47023eeb5c024b9fb2149a072e02724f.6D3eXSB64cwze7tZ",wo="https://open.bigmodel.cn/api/paas/v4",qp=e=>{const t=e.indexOf("["),n=e.indexOf("{");if(t!==-1&&(n===-1||t<n)){let r=0;for(let s=t;s<e.length;s++)if(e[s]==="["?r++:e[s]==="]"&&r--,r===0)return e.substring(t,s+1)}if(n!==-1){let r=0;for(let s=n;s<e.length;s++)if(e[s]==="{"?r++:e[s]==="}"&&r--,r===0)return e.substring(n,s+1)}return e},jt=async(e,t="glm-4-flash",n=.7,r=!0)=>{try{const s=await fetch(`${wo}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xo}`},body:JSON.stringify({model:t,messages:e,temperature:n,stream:!1})});if(!s.ok)throw new Error(await s.text());let o=(await s.json()).choices[0].message.content;return r&&(o=o.replace(/```json\n?|```/g,"").trim(),o=qp(o)),o}catch(s){throw console.error("AI Service Error:",s),s}},Wr=(e,t)=>e<=5?t==="en"?"Target Audience: 3-5 year old toddlers. STRICT CONSTRAINT: Words must be extremely common daily objects (e.g., Cat, Dog, Apple, Bus). NO abstract nouns (e.g. Dream, Future, Idea). Words max 4-5 letters. Sentences: MAX 3-4 WORDS. Pattern: 'It is a [word]'. Keep it extremely simple for a toddler.":"3-51. 2. 3. 4. 3-5":e<=7?t==="en"?"suitable for a 6-7 year old child. Simple school level vocabulary.":"6-7":e<=9?t==="en"?"suitable for a 8-9 year old student. Interesting vocabulary.":"8-9":"suitable for a 10-12 year old student",Zp=async(e,t,n,r=[])=>{const s=Wr(n,t),o=r.join(", "),l=r.length>0?`CRITICAL STRICT RULE: You MUST NOT generate any word present in this list: [${o}]. If a word is in the list, PICK ANOTHER. Randomize your selection.`:"";let i="",u="";const d=t==="en"&&/^[A-Z]$/.test(e);t==="en"?(i="You are an English teacher for Chinese kids. Return ONLY valid JSON.",d?u=`5${e}JSON${s}
         ${l} WORD
         3-6
         sentenceTranslation
         imagePrompt
         JSON
[{"word": "Apple", "translation": "", "pinyin": "p.l", "sentence": "It is a red apple.", "sentenceTranslation": "", "imagePrompt": "Apple"}, ..]`:u=`Generate a JSON ARRAY of 5 unique English words ${s} related to the topic "${e}". 
         ${l}
         Include Chinese translation for the WORD.
         Include a VERY SIMPLE example sentence (3-6 words) using the word.
         IMPORTANT: Include the Chinese translation of the sentence in 'sentenceTranslation'.
         IMPORTANT: 'imagePrompt' must be EXTREMELY SIMPLE. Just the object name.
         
         Return JSON format:
         [{"word":"Apple","translation":"","pinyin":"p.l","sentence":"I like apples.","sentenceTranslation":"","imagePrompt":"Apple"}, ...]`):(i=" JSON ",u=` 5  "${e}"  (Hanzi)  JSON ${s}
       ${l}
       
       word:  ( "")
       translation: 
       pinyin: 
       sentence:  (3-6)
       sentenceTranslation: 
       imagePrompt:  "Cat".
       
        JSON:
       [{"word":"","translation":"Cat","pinyin":"mo","sentence":"","sentenceTranslation":"The kitten is sleeping.","imagePrompt":"Cat"}, ...]`);try{const m=await jt([{role:"system",content:i},{role:"user",content:u}],"glm-4-flash",.9),p=JSON.parse(m);return Array.isArray(p)?p:[p]}catch(m){return console.error("Batch parse error",m),[{word:e,translation:"...",pinyin:"",sentence:"Please try again.",sentenceTranslation:"",imagePrompt:e}]}},em=async e=>{try{const t=await fetch(`${wo}/images/generations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xo}`},body:JSON.stringify({model:"CogView-3-Flash",prompt:e})});if(!t.ok)throw new Error(await t.text());return(await t.json()).data[0].url}catch(t){return console.error("AI Image Generation Error:",t),"https://picsum.photos/400/300"}},cn=async e=>{try{const t=`https://tse1-mm.cn.bing.net/th?q=${encodeURIComponent(e+" cartoon illustration")}&w=600&h=600&c=7&rs=1&p=0&pid=1.7`;return Promise.resolve(t)}catch{return"https://picsum.photos/400/300"}},tm=async(e,t=[])=>{const n=e<=5?"suitable for a 3-5 year old toddler. Very simple object (e.g. Apple, Sun, Flower, Ball). Single noun.":Wr(e,"en");t.slice(-20).join(", ");const r=`/ 
    ${n} 
    
    JSON{"topic": "" }`;try{return JSON.parse(await jt([{role:"user",content:r}],"glm-4-flash",.95)).topic||"Sun"}catch{return"Flower"}},nm=async e=>{try{const t=`${e}`;return await em(t)}catch{return"https://picsum.photos/400/300"}},rm=async(e,t,n)=>{const r=Date.now(),s=`You are a kind and encouraging art teacher for a ${n} year old child.
    The child drew a "${e}".
    
    Task: Rate the drawing.
    1. Score from 1-3 stars (3=Great, 2=Good, 1=Keep trying).
    2. Provide a short, encouraging comment in CHINESE suitable for a child.
    
    Return JSON: { "score": 1-3, "comment": "Chinese comment here" }
    Request ID: ${r}`;try{let l=(await(await fetch(`${wo}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xo}`},body:JSON.stringify({model:"glm-4v-flash",messages:[{role:"user",content:[{type:"text",text:s},{type:"image_url",image_url:{url:`data:image/png;base64,${t}`}}]}]})})).json()).choices[0].message.content.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(l)}catch(o){return console.error("Drawing grading failed",o),{score:3,comment:""}}},sm=async(e,t)=>{const n=Wr(e,"zh"),r=t.slice(-50).join(","),s=t.length>0?`AVOID these characters: ${r}`:"",o=`Generate a JSON ARRAY of 20 distinct Chinese characters suitable for handwriting practice.
  ${n}
  ${s}
  Return valid JSON Array of strings: ["", "", "", "", "", ...]`;try{const l=JSON.parse(await jt([{role:"user",content:o}]));return Array.isArray(l)?l:["","","","",""]}catch{return["","","","",""]}},om=async(e,t,n)=>{if(!t)return{score:1,comment:""};const r=`
    Role: Pronunciation Teacher for Kids.
    Target Word: "${e}"
    Student Said (Recognized): "${t}"
    Language: ${n==="en"?"English":"Chinese"}

    Task:
    1. Compare the target word with what was spoken.
    2. Break down the target word into syllables (English) or characters (Chinese).
    3. Determine if each part was pronounced correctly based on the recognized text.
    4. Give a score (1-3). 3=Excellent, 2=Close, 1=Needs Improvement.

    Return JSON:
    {
      "score": number (1-3),
      "comment": "Short encouraging feedback in Chinese",
      "userPhonetic": "IPA/Pinyin of spoken text (approx)",
      "correctPhonetic": "IPA/Pinyin of target word",
      "breakdown": [
         { "text": "Syl", "pinyinOrIpa": "...", "status": "correct" },
         { "text": "la", "pinyinOrIpa": "...", "status": "incorrect" },
         { "text": "ble", "pinyinOrIpa": "...", "status": "correct" }
      ]
    }
  `;try{return JSON.parse(await jt([{role:"user",content:r}]))}catch{return{score:1,comment:"",breakdown:e.split("").map(o=>({text:o,status:"incorrect"}))}}},Zd=async(e,t,n)=>{const r=Date.now(),s=`
  ${n?"":""} ${e} 
  
  
  - ****
  -  1-3  (3=, 2=, 1=).
  - JSON: { "score": 1-3, "comment": "" }
  
  Request ID: ${r}`;try{let l=(await(await fetch(`${wo}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xo}`},body:JSON.stringify({model:"glm-4v-flash",messages:[{role:"user",content:[{type:"text",text:s},{type:"image_url",image_url:{url:`data:image/png;base64,${t}`}}]}]})})).json()).choices[0].message.content.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(l)}catch(o){return console.error("Handwriting grading failed",o),{score:2,comment:""}}},lm=async e=>{const n=`Generate a JSON Array of 3 fun, curious science questions ${Wr(e,"zh")} that a child might ask. 
    Examples: "?", "?", "?"
    Return ONLY the JSON array of strings.`;try{const r=JSON.parse(await jt([{role:"user",content:n}]));return Array.isArray(r)?r:["","",""]}catch{return["","",""]}},im=async(e,t,n=[])=>{const s=`
  ${Wr(t,"zh")}
  1. 
  2. 
  3. 
   {"ANSWER":"","KEYWORD":""}`,o=n.slice(-6).map(m=>({role:m.role==="user"?"user":"assistant",content:m.content})),l=[{role:"system",content:s},...o,{role:"user",content:e}],i=await jt(l,"glm-4-flash",.7,!1),u=i.match(/ANSWER:\s*(.+?)(?=KEYWORD:|$)/s),d=i.match(/KEYWORD:\s*(.+)/);return{question:e,answer:u?u[1].trim():i,imageUrl:d?d[1].trim():"Science"}},Eu=async e=>{const t=`Create a fun, dynamic mini-game scenario for a child using the word "${e}".
  
  Randomly select ONE of two game types: 
  Type 'SPEAK': The child must say the word to defeat a monster or open a chest.
  Type 'QUIZ': A multiple choice question to solve a puzzle.

  Output JSON format:
  {
    "type": "SPEAK" or "QUIZ",
    "introText": "Chinese intro (e.g.  [Monster]  [TargetWord] )",
    "successText": "Chinese success message (e.g. )",
    "imagePrompt": "3D cartoon style, ${e} as a cute fantasy monster or item, colorful, vibrant",
    "question": "Chinese question (if QUIZ)",
    "options": ["Option A", "Option B", "Option C"] (if QUIZ),
    "correctAnswer": "Correct Option Text" (if QUIZ)
  }`,n=await jt([{role:"user",content:t}]);try{const r=JSON.parse(n);return{...r,id:Date.now().toString(),targetWord:e,type:r.type||"SPEAK"}}catch{return{id:Date.now().toString(),type:"SPEAK",targetWord:e,introText:`${e}`,successText:"",imagePrompt:`${e} fantasy item`}}},am=async()=>{const e=`Create a roleplay scenario for a child.
  1. Pick a popular style character (e.g., Peppa Pig style, Paw Patrol style, Doraemon style).
  2. Pick a common setting (e.g., Park, Bedroom, School).
  3. Write an opening line inviting the child to talk.
  
  Return JSON:
  {
    "sceneName": " ()",
    "characterName": " (, e.g. , )",
    "characterAvatarPrompt": "3D cartoon character, [Character Name] style, cute, facing forward, white background",
    "bgPrompt": "Cartoon illustration of [scene] background, vibrant colors, animation style",
    "openingLine": "Opening greeting in Chinese"
  }`;try{return JSON.parse(await jt([{role:"user",content:e}]))}catch{return{sceneName:"",characterName:"",characterAvatarPrompt:"Cute pink pig cartoon 3d",bgPrompt:"Sunny hill background",openingLine:""}}},um=async(e,t,n)=>{const r=[{role:"system",content:`You are ${e.characterName} in ${e.sceneName}. 
      Target audience: 5-year-old child.
      Language: Chinese.
      Keep replies short, fun, and encouraging. 
      Act like the cartoon character.
      Ask simple questions to keep conversation going.`},...t,{role:"user",content:n}];return await jt(r,"glm-4-flash",.8,!1)};let Be=null,Xe=!1;const xr=new Map,xn=new Map;let ef="a72250317ca2ff2d27f01dabbef32ac3";function tf(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(typeof r.result=="string"){const s=r.result.split(",")[1];t(s)}else n(new Error("Failed to convert blob to base64"))},r.onerror=n,r.readAsDataURL(e)})}const Vn=["zh-CN-XiaoyuMultilingualNeural","zh-CN-XiaoshuangNeural"],Zo=()=>{xr.forEach(e=>URL.revokeObjectURL(e)),xr.clear(),xn.clear()},el=async(e,t)=>{await Zi(e,t,!1)},nf=async()=>{try{console.log("Attempting to refresh TTS token...");const t="https://1252112082-cocmqc4jel.ap-guangzhou.tencentscf.com/proxy?url="+encodeURIComponent("https://www.ttsonline.cn/"),s=(await(await fetch(t)).text()).match(/token\s*=\s*'([a-f0-9]+)'/);if(s&&s[1])return console.log("New TTS Token found:",s[1]),ef=s[1],s[1]}catch(e){console.error("Failed to refresh TTS token:",e)}return null},ju=async(e,t,n)=>{const s="https://1252112082-cocmqc4jel.ap-guangzhou.tencentscf.com/proxy?url="+encodeURIComponent("https://www.ttsonline.cn/getSpeek.php"),o=new URLSearchParams;o.append("language",""),o.append("voice",t),o.append("text",e),o.append("role","0"),o.append("style","0"),o.append("rate","-2"),o.append("pitch","0"),o.append("kbitrate","audio-16khz-32kbitrate-mono-mp3"),o.append("silence",""),o.append("styledegree","1"),o.append("volume","75"),o.append("predict","0"),o.append("yzm","202409282320"),o.append("replice","1"),o.append("token",n);const l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o});if(!l.ok)throw new Error("Network response not ok");const i=await l.json();if(i.code===402)throw new Error("TOKEN_EXPIRED");if(i.code===200&&i.download){const u=i.download,d="https://1252112082-cocmqc4jel.ap-guangzhou.tencentscf.com/proxy?url="+encodeURIComponent(u),m=await fetch(d);if(!m.ok)throw new Error("Audio file fetch failed");const p=await m.blob();return URL.createObjectURL(p)}throw new Error("API Error: "+(i.msg||"Unknown"))},Zi=async(e,t,n=!0)=>{if(!e)return{play:async()=>{},dispose:()=>{}};let r=t;r==="RANDOM"&&(r=Vn[Math.floor(Math.random()*Vn.length)]);const s=`${r}:${e}`;if(xr.has(s)){if(!n)return;const l=xr.get(s),i=new Audio(l);return{play:()=>new Promise(u=>{if(Xe){u();return}Be=i,i.onended=()=>{Be=null,u()},i.onerror=()=>{Be=null,u()},i.play().catch(()=>u())}),dispose:()=>{}}}if(xn.has(s))try{const l=await xn.get(s);if(!n)return;const i=new Audio(l);return{play:()=>new Promise(u=>{if(Xe){u();return}Be=i,i.onended=()=>{Be=null,u()},i.onerror=()=>{Be=null,u()},i.play().catch(()=>u())}),dispose:()=>{}}}catch{}const o=(async()=>{try{return await ju(e,r,ef)}catch(l){if(l.message==="TOKEN_EXPIRED"){const i=await nf();if(i)return await ju(e,r,i)}throw l}})();xn.set(s,o);try{const l=await o;if(xr.set(s,l),xn.delete(s),!n)return;const i=new Audio(l);return{play:()=>new Promise(u=>{if(Xe){u();return}Be=i,i.onended=()=>{Be=null,u()},i.onerror=()=>{Be=null,u()},i.play().catch(()=>u())}),dispose:()=>{}}}catch{xn.delete(s)}if(n)return{play:()=>cm(e),dispose:()=>{}}},cm=e=>Xe?Promise.resolve():new Promise(t=>{if(!window.speechSynthesis){t();return}window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);n.lang="zh-CN",n.rate=.5;const s=window.speechSynthesis.getVoices().find(o=>o.lang.includes("zh")&&(o.name.includes("Google")||o.name.includes("Microsoft")||o.name.includes("Xiaoxiao")));s&&(n.voice=s),n.onend=()=>t(),n.onerror=()=>t(),window.speechSynthesis.speak(n)}),Ye=()=>{Xe=!0,Be&&(Be.pause(),Be=null),window.speechSynthesis&&window.speechSynthesis.cancel(),setTimeout(()=>{Xe=!1},50)},ue=async(e,t="RANDOM",n=!0)=>{n&&(Ye(),await new Promise(s=>setTimeout(s,50)),Xe=!1);const r=await Zi(e,t);r&&!Xe&&(await r.play(),r.dispose())},dm=async(e,t)=>{Ye(),await new Promise(r=>setTimeout(r,60)),Xe=!1;const n=e.map(r=>Zi(r,t,!1));if(await Promise.all(n),!Xe)for(const r of e){if(Xe)break;await ue(r,t,!1),Xe||await new Promise(s=>setTimeout(s,200))}},Br=(e,t,n,r)=>{const s=window.SpeechRecognition||window.webkitSpeechRecognition;if(!s)return r(""),null;const o=new s;o.lang=e==="en"?"en-US":"zh-CN",o.continuous=!1,o.interimResults=!1,o.onresult=l=>{if(l.results.length>0){const i=l.results[0][0].transcript;t(i)}},o.onend=()=>{n()},o.onerror=l=>{l.error!=="no-speech"&&(console.warn("Speech recognition error:",l.error),r("")),n()};try{return o.start(),o}catch(l){return console.error(l),r(""),null}},wr=e=>new Promise((t,n)=>{const r=new Image;r.src=e,r.onload=()=>t(),r.onerror=()=>{console.warn(`Failed to preload image: ${e}`),t()}}),Vr=({text:e="..."})=>a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded-full border-4 border-kid-blue opacity-25 animate-ping"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded-full border-4 border-t-kid-pink border-r-kid-yellow border-b-kid-green border-l-kid-blue animate-spin"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-2xl animate-bounce",children:""})]}),a.jsx("p",{className:"text-kid-purple font-medium text-lg animate-pulse",children:e})]});var tl,nl,rl;const dn=typeof window>"u"?global:window,rf=dn.performance&&(()=>dn.performance.now())||(()=>Date.now()),sl=((tl=dn.requestAnimationFrame)===null||tl===void 0?void 0:tl.bind(dn))||(e=>setTimeout(()=>e(rf()),1e3/60)),Pu=((nl=dn.cancelAnimationFrame)===null||nl===void 0?void 0:nl.bind(dn))||clearTimeout;function Js(e){return e[e.length-1]}const ea=(e,t)=>e<0?t+e:e,fm=(e,t)=>e[ea(t,e.length)];function sf(e,t){const n={...e};for(const r in t){const s=e[r],o=t[r];s!==o&&(s&&o&&typeof s=="object"&&typeof o=="object"&&!Array.isArray(o)?n[r]=sf(s,o):n[r]=o)}return n}function hm(e,t){const n=e.split("."),r={};let s=r;for(let o=0;o<n.length;o++){const l=o===n.length-1?t:{};s[n[o]]=l,s=l}return r}let Ru=0;function of(){return Ru++,Ru}function Ns(e){return e.reduce((n,r)=>r+n,0)/e.length}function yt(e){const t=e.toUpperCase().trim();if(/^#([A-F0-9]{3}){1,2}$/.test(t)){let r=t.substring(1).split("");r.length===3&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]);const s=`${r.join("")}`;return{r:parseInt(s.slice(0,2),16),g:parseInt(s.slice(2,4),16),b:parseInt(s.slice(4,6),16),a:1}}const n=t.match(/^RGBA?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d*\.?\d+))?\)$/);if(n)return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10),a:parseFloat(n[4]||1,10)};throw new Error(`Invalid color: ${e}`)}const pm=e=>e.replace(/^\s+/,"").replace(/\s+$/,"");function So(e,t){const n={};for(let r=0;r<t;r++)n[r]=e;return n}function mm(e,t){const n={};for(let r=0;r<e;r++)n[r]=t(r);return n}const ol=((rl=dn.navigator)===null||rl===void 0?void 0:rl.userAgent)||"",gm=ol.indexOf("MSIE ")>0||ol.indexOf("Trident/")>0||ol.indexOf("Edge/")>0,lf=()=>{};class ym{constructor(t,n,r=lf){this._mutationChains=[],this._onStateChange=r,this.state={options:{drawingFadeDuration:n.drawingFadeDuration,drawingWidth:n.drawingWidth,drawingColor:yt(n.drawingColor),strokeColor:yt(n.strokeColor),outlineColor:yt(n.outlineColor),radicalColor:yt(n.radicalColor||n.strokeColor),highlightColor:yt(n.highlightColor)},character:{main:{opacity:n.showCharacter?1:0,strokes:{}},outline:{opacity:n.showOutline?1:0,strokes:{}},highlight:{opacity:1,strokes:{}}},userStrokes:null};for(let s=0;s<t.strokes.length;s++)this.state.character.main.strokes[s]={opacity:1,displayPortion:1},this.state.character.outline.strokes[s]={opacity:1,displayPortion:1},this.state.character.highlight.strokes[s]={opacity:0,displayPortion:1}}overwriteOnStateChange(t){this._onStateChange=t}updateState(t){const n=sf(this.state,t);this._onStateChange(n,this.state),this.state=n}run(t,n={}){const r=t.map(s=>s.scope);return this.cancelMutations(r),new Promise(s=>{const o={_isActive:!0,_index:0,_resolve:s,_mutations:t,_loop:n.loop,_scopes:r};this._mutationChains.push(o),this._run(o)})}_run(t){if(!t._isActive)return;const n=t._mutations;if(t._index>=n.length)if(t._loop)t._index=0;else{t._isActive=!1,this._mutationChains=this._mutationChains.filter(s=>s!==t),t._resolve({canceled:!1});return}t._mutations[t._index].run(this).then(()=>{t._isActive&&(t._index++,this._run(t))})}_getActiveMutations(){return this._mutationChains.map(t=>t._mutations[t._index])}pauseAll(){this._getActiveMutations().forEach(t=>t.pause())}resumeAll(){this._getActiveMutations().forEach(t=>t.resume())}cancelMutations(t){for(const n of this._mutationChains)for(const r of n._scopes)for(const s of t)(r.startsWith(s)||s.startsWith(r))&&this._cancelMutationChain(n)}cancelAll(){this.cancelMutations([""])}_cancelMutationChain(t){var n;t._isActive=!1;for(let r=t._index;r<t._mutations.length;r++)t._mutations[r].cancel(this);(n=t._resolve)===null||n===void 0||n.call(t,{canceled:!0}),this._mutationChains=this._mutationChains.filter(r=>r!==t)}}const fn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),qs=e=>Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)),ct=(e,t)=>qs(fn(e,t)),vm=(e,t)=>e.x===t.x&&e.y===t.y,ni=(e,t=1)=>{const n=t*10;return{x:Math.round(n*e.x)/n,y:Math.round(n*e.y)/n}},ta=e=>{let t=e[0];return e.slice(1).reduce((r,s)=>{const o=ct(s,t);return t=s,r+o},0)},xm=(e,t)=>(e.x*t.x+e.y*t.y)/qs(e)/qs(t),na=(e,t,n)=>{const r=fn(t,e),s=n/qs(r);return{x:t.x+s*r.x,y:t.y+s*r.y}},wm=(e,t)=>{const n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,s=(l,i,u,d)=>{if(l===0&&i===0)return ct(n[0],r[0]);if(l>0&&i===0)return Math.max(u[0],ct(n[l],r[0]));const m=d[d.length-1];return l===0&&i>0?Math.max(m,ct(n[0],r[i])):Math.max(Math.min(u[i],u[i-1],m),ct(n[l],r[i]))};let o=[];for(let l=0;l<n.length;l++){const i=[];for(let u=0;u<r.length;u++)i.push(s(l,u,o,i));o=i}return o[r.length-1]},Sm=(e,t=.05)=>{const n=e.slice(0,1);for(const r of e.slice(1)){const s=n[n.length-1],o=ct(r,s);if(o>t){const l=Math.ceil(o/t),i=o/l;for(let u=0;u<l;u++)n.push(na(r,s,-1*i*(u+1)))}else n.push(r)}return n},km=(e,t=30)=>{const r=ta(e)/(t-1),s=[e[0]],o=Js(e),l=e.slice(1);for(let i=0;i<t-2;i++){let u=Js(s),d=r,m=!1;for(;!m;){const p=ct(u,l[0]);if(p<d)d-=p,u=l.shift();else{const g=na(u,l[0],d-p);s.push(g),m=!0}}}return s.push(o),s},Tu=e=>{const t=km(e),n=Ns(t.map(u=>u.x)),r=Ns(t.map(u=>u.y)),s={x:n,y:r},o=t.map(u=>fn(u,s)),l=Math.sqrt(Ns([Math.pow(o[0].x,2)+Math.pow(o[0].y,2),Math.pow(Js(o).x,2)+Math.pow(Js(o).y,2)])),i=o.map(u=>({x:u.x/l,y:u.y/l}));return Sm(i)},_m=(e,t)=>e.map(n=>({x:Math.cos(t)*n.x-Math.sin(t)*n.y,y:Math.sin(t)*n.x+Math.cos(t)*n.y})),Cm=e=>{if(e.length<3)return e;const t=[e[0],e[1]];return e.slice(2).forEach(n=>{const r=t.length,s=fn(n,t[r-1]),o=fn(t[r-1],t[r-2]);s.y*o.x-s.x*o.y===0&&t.pop(),t.push(n)}),t};function ra(e,t=!1){const n=ni(e[0]),r=e.slice(1);let s=`M ${n.x} ${n.y}`;return r.forEach(o=>{const l=ni(o);s+=` L ${l.x} ${l.y}`}),t&&(s+="Z"),s}const af=(e,t)=>{const n=Cm(e);if(n.length<2)return n;const r=n[1],s=n[0],o=na(r,s,t),l=n.slice(1);return l.unshift(o),l};class Nm{constructor(t,n,r,s=!1){this.path=t,this.points=n,this.strokeNum=r,this.isInRadical=s}getStartingPoint(){return this.points[0]}getEndingPoint(){return this.points[this.points.length-1]}getLength(){return ta(this.points)}getVectors(){let t=this.points[0];return this.points.slice(1).map(r=>{const s=fn(r,t);return t=r,s})}getDistance(t){const n=this.points.map(r=>ct(r,t));return Math.min(...n)}getAverageDistance(t){return t.reduce((r,s)=>r+this.getDistance(s),0)/t.length}}class Em{constructor(t,n){this.symbol=t,this.strokes=n}}function jm({radStrokes:e,strokes:t,medians:n}){const r=s=>{var o;return((o=e==null?void 0:e.indexOf(s))!==null&&o!==void 0?o:-1)>=0};return t.map((s,o)=>{const l=n[o].map(i=>{const[u,d]=i;return{x:u,y:d}});return new Nm(s,l,o,r(o))})}function Pm(e,t){const n=jm(t);return new Em(e,n)}const Rm=[{x:0,y:-124},{x:1024,y:900}],[Zs,uf]=Rm,Du=uf.x-Zs.x,Iu=uf.y-Zs.y;class Mu{constructor(t){const{padding:n,width:r,height:s}=t;this.padding=n,this.width=r,this.height=s;const o=r-2*n,l=s-2*n,i=o/Du,u=l/Iu;this.scale=Math.min(i,u);const d=n+(o-this.scale*Du)/2,m=n+(l-this.scale*Iu)/2;this.xOffset=-1*Zs.x*this.scale+d,this.yOffset=-1*Zs.y*this.scale+m}convertExternalPoint(t){const n=(t.x-this.xOffset)/this.scale,r=(this.height-this.yOffset-t.y)/this.scale;return{x:n,y:r}}}const Tm=0,Lu=250,Dm=.4,Im=.35;function Mm(e,t,n,r={}){const s=t.strokes,o=zm(e.points);if(o.length<2)return{isMatch:!1,meta:{isStrokeBackwards:!1}};const{isMatch:l,meta:i,avgDist:u}=Es(o,s[n],r);if(!l)return{isMatch:l,meta:i};const d=s.slice(n+1);let m=u;for(let p=0;p<d.length;p++){const{isMatch:g,avgDist:S}=Es(o,d[p],{...r,checkBackwards:!1});g&&S<m&&(m=S)}if(m<u){const p=.6*(m+u)/(2*u),{isMatch:g,meta:S}=Es(o,s[n],{...r,leniency:(r.leniency||1)*p});return{isMatch:g,meta:S}}return{isMatch:l,meta:i}}const Lm=(e,t,n)=>{const r=ct(t.getStartingPoint(),e[0]),s=ct(t.getEndingPoint(),e[e.length-1]);return r<=Lu*n&&s<=Lu*n},bm=e=>{const t=[];let n=e[0];return e.slice(1).forEach(r=>{t.push(fn(r,n)),n=r}),t},Om=(e,t)=>{const n=bm(e),r=t.getVectors(),s=n.map(l=>{const i=r.map(u=>xm(u,l));return Math.max(...i)});return Ns(s)>Tm},Am=(e,t,n)=>n*(ta(e)+25)/(t.getLength()+25)>=Im,zm=e=>{if(e.length<2)return e;const[t,...n]=e,r=[t];for(const s of n)vm(s,r[r.length-1])||r.push(s);return r},$m=[Math.PI/16,Math.PI/32,0,-1*Math.PI/32,-1*Math.PI/16],Fm=(e,t,n)=>{const r=Tu(e),s=Tu(t);let o=1/0;return $m.forEach(l=>{const i=wm(r,_m(s,l));i<o&&(o=i)}),o<=Dm*n},Es=(e,t,n)=>{const{leniency:r=1,isOutlineVisible:s=!1,checkBackwards:o=!0,averageDistanceThreshold:l=350}=n,i=t.getAverageDistance(e),u=s||t.strokeNum>0?.5:1,d=i<=l*u*r;if(!d)return{isMatch:!1,avgDist:i,meta:{isStrokeBackwards:!1}};const m=Lm(e,t,r),p=Om(e,t),g=Fm(e,t.points,r),S=Am(e,t,r),v=d&&m&&p&&g&&S;return o&&!v&&Es([...e].reverse(),t,{...n,checkBackwards:!1}).isMatch?{isMatch:v,avgDist:i,meta:{isStrokeBackwards:!0}}:{isMatch:v,avgDist:i,meta:{isStrokeBackwards:!1}}};class Hm{constructor(t,n,r){this.id=t,this.points=[n],this.externalPoints=[r]}appendPoint(t,n){this.points.push(t),this.externalPoints.push(n)}}class Um{constructor(t){this._duration=t,this._startTime=null,this._paused=!1,this.scope=`delay.${t}`}run(){return this._startTime=rf(),this._runningPromise=new Promise(t=>{this._resolve=t,this._timeout=setTimeout(()=>this.cancel(),this._duration)}),this._runningPromise}pause(){if(this._paused)return;const t=performance.now()-(this._startTime||0);this._duration=Math.max(0,this._duration-t),clearTimeout(this._timeout),this._paused=!0}resume(){this._paused&&(this._startTime=performance.now(),this._timeout=setTimeout(()=>this.cancel(),this._duration),this._paused=!1)}cancel(){clearTimeout(this._timeout),this._resolve&&this._resolve(),this._resolve=void 0}}class ne{constructor(t,n,r={}){this._tick=s=>{if(this._startPauseTime!==null)return;const o=Math.min(1,(s-this._startTime-this._pausedDuration)/this._duration);if(o===1)this._renderState.updateState(this._values),this._frameHandle=void 0,this.cancel(this._renderState);else{const l=Wm(o),i=cf(this._startState,this._values,l);this._renderState.updateState(i),this._frameHandle=sl(this._tick)}},this.scope=t,this._valuesOrCallable=n,this._duration=r.duration||0,this._force=r.force,this._pausedDuration=0,this._startPauseTime=null}run(t){return this._values||this._inflateValues(t),this._duration===0&&t.updateState(this._values),this._duration===0||df(t.state,this._values)?Promise.resolve():(this._renderState=t,this._startState=t.state,this._startTime=performance.now(),this._frameHandle=sl(this._tick),new Promise(n=>{this._resolve=n}))}_inflateValues(t){let n=this._valuesOrCallable;typeof this._valuesOrCallable=="function"&&(n=this._valuesOrCallable(t.state)),this._values=hm(this.scope,n)}pause(){this._startPauseTime===null&&(this._frameHandle&&Pu(this._frameHandle),this._startPauseTime=performance.now())}resume(){this._startPauseTime!==null&&(this._frameHandle=sl(this._tick),this._pausedDuration+=performance.now()-this._startPauseTime,this._startPauseTime=null)}cancel(t){var n;(n=this._resolve)===null||n===void 0||n.call(this),this._resolve=void 0,Pu(this._frameHandle||-1),this._frameHandle=void 0,this._force&&(this._values||this._inflateValues(t),t.updateState(this._values))}}ne.Delay=Um;function cf(e,t,n){const r={};for(const s in t){const o=t[s],l=e==null?void 0:e[s];typeof l=="number"&&typeof o=="number"&&o>=0?r[s]=n*(o-l)+l:r[s]=cf(l,o,n)}return r}function df(e,t){for(const n in t){const r=t[n],s=e==null?void 0:e[n];if(r>=0){if(r!==s)return!1}else if(!df(s,r))return!1}return!0}const Wm=e=>-Math.cos(e*Math.PI)/2+.5,ff=(e,t,n)=>[new ne(`character.${e}.strokes`,So({opacity:1,displayPortion:1},t.strokes.length),{duration:n,force:!0})],ri=(e,t,n)=>[new ne(`character.${e}`,{opacity:1,strokes:So({opacity:1,displayPortion:1},t.strokes.length)},{duration:n,force:!0})],Gn=(e,t,n)=>[new ne(`character.${e}.opacity`,0,{duration:n,force:!0}),...ff(e,t,0)],bu=(e,t,n)=>[new ne(`options.${e}`,t,{duration:n})],hf=(e,t,n)=>{const r=e.strokeNum,s=(e.getLength()+600)/(3*n);return[new ne("options.highlightColor",t),new ne("character.highlight",{opacity:1,strokes:{[r]:{displayPortion:0,opacity:0}}}),new ne(`character.highlight.strokes.${r}`,{displayPortion:1,opacity:1},{duration:s}),new ne(`character.highlight.strokes.${r}.opacity`,0,{duration:s,force:!0})]},pf=(e,t,n)=>{const r=t.strokeNum,s=(t.getLength()+600)/(3*n);return[new ne(`character.${e}`,{opacity:1,strokes:{[r]:{displayPortion:0,opacity:1}}}),new ne(`character.${e}.strokes.${r}.displayPortion`,1,{duration:s})]},Bm=(e,t,n,r)=>{const s=l=>{const i=l.character[e],u={opacity:1,strokes:{}};for(let d=0;d<t.strokes.length;d++)u.strokes[d]={opacity:i.opacity*i.strokes[d].opacity};return u},o=t.strokes[n];return[new ne(`character.${e}`,s),...pf(e,o,r)]},Vm=(e,t,n)=>[new ne(`character.${e}.strokes.${t}`,{displayPortion:1,opacity:1},{duration:n,force:!0})],mf=(e,t,n,r,s)=>{let o=Gn(e,t,n);return o=o.concat(ff(e,t,0)),o.push(new ne(`character.${e}`,{opacity:1,strokes:So({opacity:0},t.strokes.length)},{force:!0})),t.strokes.forEach((l,i)=>{i>0&&o.push(new ne.Delay(s)),o=o.concat(pf(e,l,r))}),o},Gm=(e,t,n,r,s,o)=>{const l=mf(e,t,n,r,s);return l.push(new ne.Delay(o)),l},Qm=(e,t,n)=>[...Gn("main",e,t),new ne("character.highlight",{opacity:1,strokes:So({opacity:0},e.strokes.length)},{force:!0}),new ne("character.main",{opacity:1,strokes:mm(e.strokes.length,r=>({opacity:r<n?1:0}))},{force:!0})],Km=(e,t)=>[new ne("quiz.activeUserStrokeId",e,{force:!0}),new ne(`userStrokes.${e}`,{points:[t],opacity:1},{force:!0})],Xm=(e,t)=>[new ne(`userStrokes.${e}.points`,t,{force:!0})],Ym=(e,t)=>[new ne(`userStrokes.${e}.opacity`,0,{duration:t})],Ou=e=>(e==null?void 0:e.map(t=>new ne(`userStrokes.${t}`,null,{force:!0})))||[],Jm=(e,t,n)=>[new ne("options.highlightColor",t),...Gn("highlight",e),...ri("highlight",e,n/2),...Gn("highlight",e,n/2)],qm=e=>({pathString:ra(e.externalPoints),points:e.points.map(t=>ni(t))});class Zm{constructor(t,n,r){this._currentStrokeIndex=0,this._mistakesOnStroke=0,this._totalMistakes=0,this._character=t,this._renderState=n,this._isActive=!1,this._positioner=r}startQuiz(t){this._userStrokesIds&&this._renderState.run(Ou(this._userStrokesIds)),this._userStrokesIds=[],this._isActive=!0,this._options=t;const n=ea(t.quizStartStrokeNum,this._character.strokes.length);return this._currentStrokeIndex=Math.min(n,this._character.strokes.length-1),this._mistakesOnStroke=0,this._totalMistakes=0,this._renderState.run(Qm(this._character,t.strokeFadeDuration,this._currentStrokeIndex))}startUserStroke(t){var n;if(!this._isActive)return null;if(this._userStroke)return this.endUserStroke();const r=this._positioner.convertExternalPoint(t),s=of();return this._userStroke=new Hm(s,r,t),(n=this._userStrokesIds)===null||n===void 0||n.push(s),this._renderState.run(Km(s,r))}continueUserStroke(t){if(!this._userStroke)return Promise.resolve();const n=this._positioner.convertExternalPoint(t);this._userStroke.appendPoint(n,t);const r=this._userStroke.points.slice(0);return this._renderState.run(Xm(this._userStroke.id,r))}setPositioner(t){this._positioner=t}endUserStroke(){var t;if(!this._userStroke)return;if(this._renderState.run(Ym(this._userStroke.id,(t=this._options.drawingFadeDuration)!==null&&t!==void 0?t:300)),this._userStroke.points.length===1){this._userStroke=void 0;return}const{acceptBackwardsStrokes:n,markStrokeCorrectAfterMisses:r}=this._options,s=this._getCurrentStroke(),{isMatch:o,meta:l}=Mm(this._userStroke,this._character,this._currentStrokeIndex,{isOutlineVisible:this._renderState.state.character.outline.opacity>0,leniency:this._options.leniency,averageDistanceThreshold:this._options.averageDistanceThreshold}),i=r&&this._mistakesOnStroke+1>=r;if(o||i||l.isStrokeBackwards&&n)this._handleSuccess(l);else{this._handleFailure(l);const{showHintAfterMisses:d,highlightColor:m,strokeHighlightSpeed:p}=this._options;d!==!1&&this._mistakesOnStroke>=d&&this._renderState.run(hf(s,yt(m),p))}this._userStroke=void 0}cancel(){this._isActive=!1,this._userStrokesIds&&this._renderState.run(Ou(this._userStrokesIds))}_getStrokeData({isCorrect:t,meta:n}){return{character:this._character.symbol,strokeNum:this._currentStrokeIndex,mistakesOnStroke:this._mistakesOnStroke,totalMistakes:this._totalMistakes,strokesRemaining:this._character.strokes.length-this._currentStrokeIndex-(t?1:0),drawnPath:qm(this._userStroke),isBackwards:n.isStrokeBackwards}}nextStroke(){if(!this._options)return;const{strokes:t,symbol:n}=this._character,{onComplete:r,highlightOnComplete:s,strokeFadeDuration:o,highlightCompleteColor:l,highlightColor:i,strokeHighlightDuration:u}=this._options;let d=Vm("main",this._currentStrokeIndex,o);this._mistakesOnStroke=0,this._currentStrokeIndex+=1,this._currentStrokeIndex===t.length&&(this._isActive=!1,r==null||r({character:n,totalMistakes:this._totalMistakes}),s&&(d=d.concat(Jm(this._character,yt(l||i),(u||0)*2)))),this._renderState.run(d)}_handleSuccess(t){if(!this._options)return;const{onCorrectStroke:n}=this._options;n==null||n({...this._getStrokeData({isCorrect:!0,meta:t})}),this.nextStroke()}_handleFailure(t){var n,r;this._mistakesOnStroke+=1,this._totalMistakes+=1,(n=(r=this._options).onMistake)===null||n===void 0||n.call(r,this._getStrokeData({isCorrect:!1,meta:t}))}_getCurrentStroke(){return this._character.strokes[this._currentStrokeIndex]}}function nn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function bt(e,t,n){e.setAttributeNS(null,t,n)}function eo(e,t){Object.keys(t).forEach(n=>bt(e,n,t[n]))}function eg(e){let t="";return window.location&&window.location.href&&(t=window.location.href.replace(/#[^#]*$/,"").replace(/"/gi,"%22")),`url("${t}#${e}")`}function gf(e){var t;e==null||(t=e.parentNode)===null||t===void 0||t.removeChild(e)}class rn{constructor(t){this.stroke=t,this._pathLength=t.getLength()+rn.STROKE_WIDTH/2}_getStrokeDashoffset(t){return this._pathLength*.999*(1-t)}_getColor({strokeColor:t,radicalColor:n}){return n&&this.stroke.isInRadical?n:t}}rn.STROKE_WIDTH=200;const Au=200;class tg extends rn{constructor(t){super(t),this._oldProps=void 0}mount(t){this._animationPath=nn("path"),this._clip=nn("clipPath"),this._strokePath=nn("path");const n=`mask-${of()}`;bt(this._clip,"id",n),bt(this._strokePath,"d",this.stroke.path),this._animationPath.style.opacity="0",bt(this._animationPath,"clip-path",eg(n));const r=af(this.stroke.points,Au/2);return bt(this._animationPath,"d",ra(r)),eo(this._animationPath,{stroke:"#FFFFFF","stroke-width":Au.toString(),fill:"none","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":`${this._pathLength},${this._pathLength}`}),this._clip.appendChild(this._strokePath),t.defs.appendChild(this._clip),t.svg.appendChild(this._animationPath),this}render(t){var n,r;if(t===this._oldProps||!this._animationPath)return;t.displayPortion!==((n=this._oldProps)===null||n===void 0?void 0:n.displayPortion)&&(this._animationPath.style.strokeDashoffset=this._getStrokeDashoffset(t.displayPortion).toString());const s=this._getColor(t);if(!this._oldProps||s!==this._getColor(this._oldProps)){const{r:o,g:l,b:i,a:u}=s;eo(this._animationPath,{stroke:`rgba(${o},${l},${i},${u})`})}t.opacity!==((r=this._oldProps)===null||r===void 0?void 0:r.opacity)&&(this._animationPath.style.opacity=t.opacity.toString()),this._oldProps=t}}class ll{constructor(t){this._oldProps=void 0,this._strokeRenderers=t.strokes.map(n=>new tg(n))}mount(t){const n=t.createSubRenderTarget();this._group=n.svg,this._strokeRenderers.forEach(r=>{r.mount(n)})}render(t){var n,r;if(t===this._oldProps||!this._group)return;const{opacity:s,strokes:o,strokeColor:l,radicalColor:i=null}=t;if(s!==((n=this._oldProps)===null||n===void 0?void 0:n.opacity)&&(this._group.style.opacity=s.toString(),!gm)){var u;s===0?this._group.style.display="none":((u=this._oldProps)===null||u===void 0?void 0:u.opacity)===0&&this._group.style.removeProperty("display")}const d=!this._oldProps||l!==this._oldProps.strokeColor||i!==this._oldProps.radicalColor;if(d||o!==((r=this._oldProps)===null||r===void 0?void 0:r.strokes))for(let p=0;p<this._strokeRenderers.length;p++){var m;!d&&(m=this._oldProps)!==null&&m!==void 0&&m.strokes&&o[p]===this._oldProps.strokes[p]||this._strokeRenderers[p].render({strokeColor:l,radicalColor:i,opacity:o[p].opacity,displayPortion:o[p].displayPortion})}this._oldProps=t}}class ng{constructor(){this._oldProps=void 0}mount(t){this._path=nn("path"),t.svg.appendChild(this._path)}render(t){var n,r,s,o;if(!(!this._path||t===this._oldProps)){if(t.strokeColor!==((n=this._oldProps)===null||n===void 0?void 0:n.strokeColor)||t.strokeWidth!==((r=this._oldProps)===null||r===void 0?void 0:r.strokeWidth)){const{r:l,g:i,b:u,a:d}=t.strokeColor;eo(this._path,{fill:"none",stroke:`rgba(${l},${i},${u},${d})`,"stroke-width":t.strokeWidth.toString(),"stroke-linecap":"round","stroke-linejoin":"round"})}t.opacity!==((s=this._oldProps)===null||s===void 0?void 0:s.opacity)&&bt(this._path,"opacity",t.opacity.toString()),t.points!==((o=this._oldProps)===null||o===void 0?void 0:o.points)&&bt(this._path,"d",ra(t.points)),this._oldProps=t}}destroy(){gf(this._path)}}class rg{constructor(t,n){this._character=t,this._positioner=n,this._mainCharRenderer=new ll(t),this._outlineCharRenderer=new ll(t),this._highlightCharRenderer=new ll(t),this._userStrokeRenderers={}}mount(t){const n=t.createSubRenderTarget(),r=n.svg,{xOffset:s,yOffset:o,height:l,scale:i}=this._positioner;bt(r,"transform",`translate(${s}, ${l-o}) scale(${i}, ${-1*i})`),this._outlineCharRenderer.mount(n),this._mainCharRenderer.mount(n),this._highlightCharRenderer.mount(n),this._positionedTarget=n}render(t){const{main:n,outline:r,highlight:s}=t.character,{outlineColor:o,radicalColor:l,highlightColor:i,strokeColor:u,drawingWidth:d,drawingColor:m}=t.options;this._outlineCharRenderer.render({opacity:r.opacity,strokes:r.strokes,strokeColor:o}),this._mainCharRenderer.render({opacity:n.opacity,strokes:n.strokes,strokeColor:u,radicalColor:l}),this._highlightCharRenderer.render({opacity:s.opacity,strokes:s.strokes,strokeColor:i});const p=t.userStrokes||{};for(const S in this._userStrokeRenderers)if(!p[S]){var g;(g=this._userStrokeRenderers[S])===null||g===void 0||g.destroy(),delete this._userStrokeRenderers[S]}for(const S in p){const v=p[S];if(!v)continue;const k={strokeWidth:d,strokeColor:m,...v};(()=>{if(this._userStrokeRenderers[S])return this._userStrokeRenderers[S];const f=new ng;return f.mount(this._positionedTarget),this._userStrokeRenderers[S]=f,f})().render(k)}}destroy(){gf(this._positionedTarget.svg),this._positionedTarget.defs.innerHTML=""}}class yf{constructor(t){this.node=t}addPointerStartListener(t){this.node.addEventListener("mousedown",n=>{t(this._eventify(n,this._getMousePoint))}),this.node.addEventListener("touchstart",n=>{t(this._eventify(n,this._getTouchPoint))})}addPointerMoveListener(t){this.node.addEventListener("mousemove",n=>{t(this._eventify(n,this._getMousePoint))}),this.node.addEventListener("touchmove",n=>{t(this._eventify(n,this._getTouchPoint))})}addPointerEndListener(t){document.addEventListener("mouseup",t),document.addEventListener("touchend",t)}getBoundingClientRect(){return this.node.getBoundingClientRect()}updateDimensions(t,n){this.node.setAttribute("width",`${t}`),this.node.setAttribute("height",`${n}`)}_eventify(t,n){return{getPoint:()=>n.call(this,t),preventDefault:()=>t.preventDefault()}}_getMousePoint(t){const{left:n,top:r}=this.getBoundingClientRect(),s=t.clientX-n,o=t.clientY-r;return{x:s,y:o}}_getTouchPoint(t){const{left:n,top:r}=this.getBoundingClientRect(),s=t.touches[0].clientX-n,o=t.touches[0].clientY-r;return{x:s,y:o}}}class to extends yf{constructor(t,n){super(t),this.svg=t,this.defs=n,"createSVGPoint"in t&&(this._pt=t.createSVGPoint())}static init(t,n="100%",r="100%"){const s=typeof t=="string"?document.getElementById(t):t;if(!s)throw new Error(`HanziWriter target element not found: ${t}`);const o=s.nodeName.toUpperCase(),l=(()=>{if(o==="SVG"||o==="G")return s;{const u=nn("svg");return s.appendChild(u),u}})();eo(l,{width:n,height:r});const i=nn("defs");return l.appendChild(i),new to(l,i)}createSubRenderTarget(){const t=nn("g");return this.svg.appendChild(t),new to(t,this.defs)}_getMousePoint(t){if(this._pt&&(this._pt.x=t.clientX,this._pt.y=t.clientY,"getScreenCTM"in this.node)){var n;const r=this._pt.matrixTransform((n=this.node.getScreenCTM())===null||n===void 0?void 0:n.inverse());return{x:r.x,y:r.y}}return super._getMousePoint.call(this,t)}_getTouchPoint(t){if(this._pt&&(this._pt.x=t.touches[0].clientX,this._pt.y=t.touches[0].clientY,"getScreenCTM"in this.node)){var n;const r=this._pt.matrixTransform((n=this.node.getScreenCTM())===null||n===void 0?void 0:n.inverse());return{x:r.x,y:r.y}}return super._getTouchPoint(t)}}var sg={HanziWriterRenderer:rg,createRenderTarget:to.init};const vf=(e,t)=>{e.beginPath();const n=t[0],r=t.slice(1);e.moveTo(n.x,n.y);for(const s of r)e.lineTo(s.x,s.y);e.stroke()},og=e=>{const t=e.split(/(^|\s+)(?=[A-Z])/).filter(r=>r!==" "),n=[r=>r.beginPath()];for(const r of t){const[s,...o]=r.split(/\s+/),l=o.map(i=>parseFloat(i));s==="M"?n.push(i=>i.moveTo(...l)):s==="L"?n.push(i=>i.lineTo(...l)):s==="C"?n.push(i=>i.bezierCurveTo(...l)):s==="Q"&&n.push(i=>i.quadraticCurveTo(...l))}return r=>n.forEach(s=>s(r))};class lg extends rn{constructor(t,n=!0){super(t),n&&Path2D?this._path2D=new Path2D(this.stroke.path):this._pathCmd=og(this.stroke.path),this._extendedMaskPoints=af(this.stroke.points,rn.STROKE_WIDTH/2)}render(t,n){if(n.opacity<.05)return;if(t.save(),this._path2D)t.clip(this._path2D);else{var r;(r=this._pathCmd)===null||r===void 0||r.call(this,t),t.globalAlpha=0,t.stroke(),t.clip()}const{r:s,g:o,b:l,a:i}=this._getColor(n),u=i===1?`rgb(${s},${o},${l})`:`rgb(${s},${o},${l},${i})`,d=this._getStrokeDashoffset(n.displayPortion);t.globalAlpha=n.opacity,t.strokeStyle=u,t.fillStyle=u,t.lineWidth=rn.STROKE_WIDTH,t.lineCap="round",t.lineJoin="round",t.setLineDash([this._pathLength,this._pathLength],d),t.lineDashOffset=d,vf(t,this._extendedMaskPoints),t.restore()}}class il{constructor(t){this._strokeRenderers=t.strokes.map(n=>new lg(n))}render(t,n){if(n.opacity<.05)return;const{opacity:r,strokeColor:s,radicalColor:o,strokes:l}=n;for(let i=0;i<this._strokeRenderers.length;i++)this._strokeRenderers[i].render(t,{strokeColor:s,radicalColor:o,opacity:l[i].opacity*r,displayPortion:l[i].displayPortion||0})}}function ig(e,t){if(t.opacity<.05)return;const{opacity:n,strokeWidth:r,strokeColor:s,points:o}=t,{r:l,g:i,b:u,a:d}=s;e.save(),e.globalAlpha=n,e.lineWidth=r,e.strokeStyle=`rgba(${l},${i},${u},${d})`,e.lineCap="round",e.lineJoin="round",vf(e,o),e.restore()}class ag{constructor(t,n){this.destroy=lf,this._character=t,this._positioner=n,this._mainCharRenderer=new il(t),this._outlineCharRenderer=new il(t),this._highlightCharRenderer=new il(t)}mount(t){this._target=t}_animationFrame(t){const{width:n,height:r,scale:s,xOffset:o,yOffset:l}=this._positioner,i=this._target.getContext();i.clearRect(0,0,n,r),i.save(),i.translate(o,r-l),i.transform(1,0,0,-1,0,0),i.scale(s,s),t(i),i.restore(),i.draw&&i.draw()}render(t){const{outline:n,main:r,highlight:s}=t.character,{outlineColor:o,strokeColor:l,radicalColor:i,highlightColor:u,drawingColor:d,drawingWidth:m}=t.options;this._animationFrame(p=>{this._outlineCharRenderer.render(p,{opacity:n.opacity,strokes:n.strokes,strokeColor:o}),this._mainCharRenderer.render(p,{opacity:r.opacity,strokes:r.strokes,strokeColor:l,radicalColor:i}),this._highlightCharRenderer.render(p,{opacity:s.opacity,strokes:s.strokes,strokeColor:u});const g=t.userStrokes||{};for(const S in g){const v=g[S];if(v){const k={strokeWidth:m,strokeColor:d,...v};ig(p,k)}}})}}class sa extends yf{constructor(t){super(t)}static init(t,n="100%",r="100%"){const s=typeof t=="string"?document.getElementById(t):t;if(!s)throw new Error(`HanziWriter target element not found: ${t}`);const o=s.nodeName.toUpperCase(),l=(()=>{if(o==="CANVAS")return s;const i=document.createElement("canvas");return s.appendChild(i),i})();return l.setAttribute("width",n),l.setAttribute("height",r),new sa(l)}getContext(){return this.node.getContext("2d")}}var ug={HanziWriterRenderer:ag,createRenderTarget:sa.init};const cg="2.0.1",dg=e=>`https://cdn.jsdelivr.net/npm/hanzi-writer-data@${cg}/${e}.json`,fg=(e,t,n)=>{const r=new XMLHttpRequest;r.overrideMimeType&&r.overrideMimeType("application/json"),r.open("GET",dg(e),!0),r.onerror=s=>{n(r,s)},r.onreadystatechange=()=>{r.readyState===4&&(r.status===200?t(JSON.parse(r.responseText)):r.status!==0&&n&&n(r))},r.send(null)},zu={charDataLoader:fg,onLoadCharDataError:null,onLoadCharDataSuccess:null,showOutline:!0,showCharacter:!0,renderer:"svg",width:0,height:0,padding:20,strokeAnimationSpeed:1,strokeFadeDuration:400,strokeHighlightDuration:200,strokeHighlightSpeed:2,delayBetweenStrokes:1e3,delayBetweenLoops:2e3,strokeColor:"#555",radicalColor:null,highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",leniency:1,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,markStrokeCorrectAfterMisses:!1,acceptBackwardsStrokes:!1,quizStartStrokeNum:0,averageDistanceThreshold:350,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2,rendererOverride:{}};class $u{constructor(t){this._loadCounter=0,this._isLoading=!1,this.loadingFailed=!1,this._options=t}_debouncedLoad(t,n){const r=l=>{if(n===this._loadCounter){var i;(i=this._resolve)===null||i===void 0||i.call(this,l)}},s=l=>{if(n===this._loadCounter){var i;(i=this._reject)===null||i===void 0||i.call(this,l)}},o=this._options.charDataLoader(t,r,s);o&&("then"in o?o.then(r).catch(s):r(o))}_setupLoadingPromise(){return new Promise((t,n)=>{this._resolve=t,this._reject=n}).then(t=>{var n,r;return this._isLoading=!1,(n=(r=this._options).onLoadCharDataSuccess)===null||n===void 0||n.call(r,t),t}).catch(t=>{if(this._isLoading=!1,this.loadingFailed=!0,this._options.onLoadCharDataError){this._options.onLoadCharDataError(t);return}if(t instanceof Error)throw t;const n=new Error(`Failed to load char data for ${this._loadingChar}`);throw n.reason=t,n})}loadCharData(t){this._loadingChar=t;const n=this._setupLoadingPromise();return this.loadingFailed=!1,this._isLoading=!0,this._loadCounter++,this._debouncedLoad(t,this._loadCounter),n}}class wt{constructor(t,n={}){const{HanziWriterRenderer:r,createRenderTarget:s}=n.renderer==="canvas"?ug:sg,o=n.rendererOverride||{};this._renderer={HanziWriterRenderer:o.HanziWriterRenderer||r,createRenderTarget:o.createRenderTarget||s},this.target=this._renderer.createRenderTarget(t,n.width,n.height),this._options=this._assignOptions(n),this._loadingManager=new $u(this._options),this._setupListeners()}static create(t,n,r){const s=new wt(t,r);return s.setCharacter(n),s}static loadCharacterData(t,n={}){const r=(()=>{const{_loadingManager:s,_loadingOptions:o}=wt;return(s==null?void 0:s._loadingChar)===t&&o===n?s:new $u({...zu,...n})})();return wt._loadingManager=r,wt._loadingOptions=n,r.loadCharData(t)}static getScalingTransform(t,n,r=0){const s=new Mu({width:t,height:n,padding:r});return{x:s.xOffset,y:s.yOffset,scale:s.scale,transform:pm(`
        translate(${s.xOffset}, ${s.height-s.yOffset})
        scale(${s.scale}, ${-1*s.scale})
      `).replace(/\s+/g," ")}}showCharacter(t={}){return this._options.showCharacter=!0,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(ri("main",this._character,typeof t.duration=="number"?t.duration:this._options.strokeFadeDuration)).then(r=>{var s;return(s=t.onComplete)===null||s===void 0||s.call(t,r),r})})}hideCharacter(t={}){return this._options.showCharacter=!1,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(Gn("main",this._character,typeof t.duration=="number"?t.duration:this._options.strokeFadeDuration)).then(r=>{var s;return(s=t.onComplete)===null||s===void 0||s.call(t,r),r})})}animateCharacter(t={}){return this.cancelQuiz(),this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(mf("main",this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes)).then(r=>{var s;return(s=t.onComplete)===null||s===void 0||s.call(t,r),r})})}animateStroke(t,n={}){return this.cancelQuiz(),this._withData(()=>{var r;return(r=this._renderState)===null||r===void 0?void 0:r.run(Bm("main",this._character,ea(t,this._character.strokes.length),this._options.strokeAnimationSpeed)).then(s=>{var o;return(o=n.onComplete)===null||o===void 0||o.call(n,s),s})})}highlightStroke(t,n={}){const r=()=>{if(!(!this._character||!this._renderState))return this._renderState.run(hf(fm(this._character.strokes,t),yt(this._options.highlightColor),this._options.strokeHighlightSpeed)).then(s=>{var o;return(o=n.onComplete)===null||o===void 0||o.call(n,s),s})};return this._withData(r)}async loopCharacterAnimation(){return this.cancelQuiz(),this._withData(()=>this._renderState.run(Gm("main",this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes,this._options.delayBetweenLoops),{loop:!0}))}pauseAnimation(){return this._withData(()=>{var t;return(t=this._renderState)===null||t===void 0?void 0:t.pauseAll()})}resumeAnimation(){return this._withData(()=>{var t;return(t=this._renderState)===null||t===void 0?void 0:t.resumeAll()})}showOutline(t={}){return this._options.showOutline=!0,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(ri("outline",this._character,typeof t.duration=="number"?t.duration:this._options.strokeFadeDuration)).then(r=>{var s;return(s=t.onComplete)===null||s===void 0||s.call(t,r),r})})}hideOutline(t={}){return this._options.showOutline=!1,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(Gn("outline",this._character,typeof t.duration=="number"?t.duration:this._options.strokeFadeDuration)).then(r=>{var s;return(s=t.onComplete)===null||s===void 0||s.call(t,r),r})})}updateDimensions({width:t,height:n,padding:r}){if(t!==void 0&&(this._options.width=t),n!==void 0&&(this._options.height=n),r!==void 0&&(this._options.padding=r),this.target.updateDimensions(this._options.width,this._options.height),this._character&&this._renderState&&this._hanziWriterRenderer&&this._positioner){this._hanziWriterRenderer.destroy();const s=this._initAndMountHanziWriterRenderer(this._character);this._renderState.overwriteOnStateChange(o=>s.render(o)),s.render(this._renderState.state),this._quiz&&this._quiz.setPositioner(this._positioner)}}updateColor(t,n,r={}){var s;let o=[];const l=t==="radicalColor"&&!n?this._options.strokeColor:n,i=yt(l);this._options[t]=n;const u=(s=r.duration)!==null&&s!==void 0?s:this._options.strokeFadeDuration;return o=o.concat(bu(t,i,u)),t==="radicalColor"&&!n&&(o=o.concat(bu(t,null,0))),this._withData(()=>{var d;return(d=this._renderState)===null||d===void 0?void 0:d.run(o).then(m=>{var p;return(p=r.onComplete)===null||p===void 0||p.call(r,m),m})})}quiz(t={}){return this._withData(async()=>{this._character&&this._renderState&&this._positioner&&(this.cancelQuiz(),this._quiz=new Zm(this._character,this._renderState,this._positioner),this._options={...this._options,...t},this._quiz.startQuiz(this._options))})}skipQuizStroke(){this._quiz&&this._quiz.nextStroke()}cancelQuiz(){this._quiz&&(this._quiz.cancel(),this._quiz=void 0)}setCharacter(t){return this.cancelQuiz(),this._char=t,this._hanziWriterRenderer&&this._hanziWriterRenderer.destroy(),this._renderState&&this._renderState.cancelAll(),this._hanziWriterRenderer=null,this._withDataPromise=this._loadingManager.loadCharData(t).then(n=>{if(!n||this._loadingManager.loadingFailed)return;this._character=Pm(t,n),this._renderState=new ym(this._character,this._options,s=>r.render(s));const r=this._initAndMountHanziWriterRenderer(this._character);r.render(this._renderState.state)}),this._withDataPromise}_initAndMountHanziWriterRenderer(t){const{width:n,height:r,padding:s}=this._options;this._positioner=new Mu({width:n,height:r,padding:s});const o=new this._renderer.HanziWriterRenderer(t,this._positioner);return o.mount(this.target),this._hanziWriterRenderer=o,o}async getCharacterData(){if(!this._char)throw new Error("setCharacter() must be called before calling getCharacterData()");return await this._withData(()=>this._character)}_assignOptions(t){const n={...zu,...t};return t.strokeAnimationDuration&&!t.strokeAnimationSpeed&&(n.strokeAnimationSpeed=500/t.strokeAnimationDuration),t.strokeHighlightDuration&&!t.strokeHighlightSpeed&&(n.strokeHighlightSpeed=500/n.strokeHighlightDuration),t.highlightCompleteColor||(n.highlightCompleteColor=n.highlightColor),this._fillWidthAndHeight(n)}_fillWidthAndHeight(t){const n={...t};if(n.width&&!n.height)n.height=n.width;else if(n.height&&!n.width)n.width=n.height;else if(!n.width&&!n.height){const{width:r,height:s}=this.target.getBoundingClientRect(),o=Math.min(r,s);n.width=o,n.height=o}return n}_withData(t){if(this._loadingManager.loadingFailed)throw Error("Failed to load character data. Call setCharacter and try again.");return this._withDataPromise?this._withDataPromise.then(()=>{if(!this._loadingManager.loadingFailed)return t()}):Promise.resolve().then(t)}_setupListeners(){this.target.addPointerStartListener(t=>{this._quiz&&(t.preventDefault(),this._quiz.startUserStroke(t.getPoint()))}),this.target.addPointerMoveListener(t=>{this._quiz&&(t.preventDefault(),this._quiz.continueUserStroke(t.getPoint()))}),this.target.addPointerEndListener(()=>{var t;(t=this._quiz)===null||t===void 0||t.endUserStroke()})}}wt._loadingManager=null;wt._loadingOptions=null;const si=({target:e,isChinese:t,strokeGuideUrl:n,onGrade:r,isGrading:s})=>{const o=w.useRef(null),l=w.useRef(null),i=w.useRef(null),[u,d]=w.useState(!1),m=w.useRef(!1);w.useEffect(()=>{const v=o.current,k=l.current;if(!v||!k)return;const M=()=>{const c=k.getBoundingClientRect();v.width=c.width,v.height=c.height;const h=v.getContext("2d");h&&(h.lineCap="round",h.lineJoin="round",h.strokeStyle="#1F2937",h.lineWidth=8)};M();const f=new ResizeObserver(()=>M());return f.observe(k),()=>f.disconnect()},[t,e]),w.useEffect(()=>{if(t&&i.current){i.current.innerHTML="";const v=e.charAt(0);if(/[\u4e00-\u9fa5]/.test(v))try{const k=wt.create(i.current,v,{width:280,height:280,padding:5,showOutline:!0,strokeAnimationSpeed:1,delayBetweenLoops:1500,strokeColor:"#9CA3AF",radicalColor:"#9CA3AF",outlineColor:"#D1D5DB",onLoadCharDataSuccess:()=>{k.loopCharacterAnimation()}})}catch(k){console.error("BG HanziWriter error",k)}}},[t,e]),w.useEffect(()=>{const v=o.current;if(!v)return;const k=y=>{const _=v.getBoundingClientRect();let x,E;return"touches"in y?(x=y.touches[0].clientX,E=y.touches[0].clientY):(x=y.clientX,E=y.clientY),{x:x-_.left,y:E-_.top}},M=y=>{y.cancelable&&y.preventDefault(),y.stopPropagation(),m.current=!0,d(!0);const{x:_,y:x}=k(y),E=v.getContext("2d");E&&(E.beginPath(),E.moveTo(_,x))},f=y=>{if(y.stopPropagation(),!m.current)return;y.cancelable&&y.preventDefault();const{x:_,y:x}=k(y),E=v.getContext("2d");E&&(E.lineTo(_,x),E.stroke())},c=y=>{y.cancelable&&y.preventDefault(),y.stopPropagation(),m.current=!1},h={passive:!1};return v.addEventListener("mousedown",M),v.addEventListener("mousemove",f),v.addEventListener("mouseup",c),v.addEventListener("mouseleave",c),v.addEventListener("touchstart",M,h),v.addEventListener("touchmove",f,h),v.addEventListener("touchend",c,h),()=>{v.removeEventListener("mousedown",M),v.removeEventListener("mousemove",f),v.removeEventListener("mouseup",c),v.removeEventListener("mouseleave",c),v.removeEventListener("touchstart",M),v.removeEventListener("touchmove",f),v.removeEventListener("touchend",c)}},[]);const p=()=>{const v=o.current;if(!v)return;const k=v.getContext("2d");k&&(k.clearRect(0,0,v.width,v.height),d(!1))},g=async()=>{o.current&&o.current.toBlob(async v=>{if(v){const k=await tf(v);r(k)}},"image/png")},S=()=>e.length<=3?"120px":e.length<=6?"80px":e.length<=10?"50px":"36px";return a.jsxs("div",{className:"flex flex-col items-center gap-3 w-full touch-none",onMouseDown:v=>v.stopPropagation(),onTouchStart:v=>v.stopPropagation(),children:[a.jsxs("div",{ref:l,className:`relative border-4 border-kid-blue rounded-xl overflow-hidden bg-white shadow-inner ${t?"w-[280px] h-[280px]":"w-full max-w-lg h-[200px]"}`,children:[a.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-20 select-none",children:t?a.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[a.jsx("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",stroke:"red",strokeWidth:"1"}),a.jsx("line",{x1:"50",y1:"0",x2:"50",y2:"100",stroke:"red",strokeWidth:"0.5",strokeDasharray:"5,5"}),a.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"red",strokeWidth:"0.5",strokeDasharray:"5,5"}),a.jsx("line",{x1:"0",y1:"0",x2:"100",y2:"100",stroke:"red",strokeWidth:"0.5",strokeDasharray:"5,5"}),a.jsx("line",{x1:"100",y1:"0",x2:"0",y2:"100",stroke:"red",strokeWidth:"0.5",strokeDasharray:"5,5"})]}):a.jsxs("div",{className:"flex flex-col h-full justify-center space-y-10 p-4",children:[a.jsx("div",{className:"border-b-2 border-red-300"}),a.jsx("div",{className:"border-b border-blue-200 border-dashed"}),a.jsx("div",{className:"border-b border-blue-200 border-dashed"}),a.jsx("div",{className:"border-b-2 border-red-300"})]})}),a.jsx("div",{className:"absolute inset-0 z-1 pointer-events-none flex items-center justify-center select-none",children:t?a.jsx("div",{ref:i,className:"opacity-100"}):a.jsx("span",{className:"font-mono text-gray-300 tracking-widest font-sans font-bold",style:{fontFamily:'"Fredoka", sans-serif',fontSize:S()},children:e})}),a.jsx("canvas",{ref:o,className:"absolute inset-0 z-20 w-full h-full cursor-crosshair touch-none",style:{touchAction:"none"}})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:p,className:"px-4 py-2 rounded-full bg-gray-200 text-gray-600 font-bold hover:bg-gray-300 text-sm",children:"  (Clear)"}),a.jsx("button",{onClick:g,disabled:!u||s,className:"px-6 py-2 rounded-full bg-green-500 text-white font-bold hover:bg-green-600 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?" ...":"  (Grade)"})]})]})},ko=({trigger:e})=>{const[t,n]=w.useState([]);return w.useEffect(()=>{if(e===0)return;const r=["#F72585","#4CC9F0","#FDC500","#7209B7","#06D6A0"],s=Array.from({length:50}).map((l,i)=>({id:Date.now()+i,left:Math.random()*100+"vw",bg:r[Math.floor(Math.random()*r.length)],delay:Math.random()*.5+"s"}));n(s);const o=setTimeout(()=>{n([])},3e3);return()=>clearTimeout(o)},[e]),t.length===0?null:a.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9999] overflow-hidden",children:t.map(r=>a.jsx("div",{className:"confetti",style:{left:r.left,backgroundColor:r.bg,animationDelay:r.delay,borderRadius:Math.random()>.5?"50%":"0"}},r.id))})},fs={[D.ENGLISH]:["Animals","Fruits","Colors","Family","School","Toys","Space","Ocean","Food","Nature"],[D.CHINESE]:["","","","","","","","","",""]},or=Array.from({length:26},(e,t)=>String.fromCharCode(65+t)),hg=()=>a.jsx("div",{className:"flex items-center gap-1 h-8 justify-center",children:[1,2,3,4,5,4,3,2].map(e=>a.jsx("div",{className:"w-1.5 bg-red-400 rounded-full animate-bounce",style:{height:`${e*6}px`,animationDuration:"0.6s",animationDelay:`${e*.05}s`}},e))}),Fu=({mode:e,difficulty:t,voiceId:n,onUpdateProgress:r,initialData:s,onAddToHistory:o,history:l})=>{const[i,u]=w.useState(null),[d,m]=w.useState($.IDLE),[p,g]=w.useState(!1),[S,v]=w.useState(0),[k,M]=w.useState([]),[f,c]=w.useState(-1),[h,y]=w.useState([]),[_,x]=w.useState([]),E=w.useRef(!1),T=w.useRef(null),[C,P]=w.useState(!1),[b,F]=w.useState("TOPIC"),[U,Q]=w.useState(fs[e][0]),[le,W]=w.useState("CARD"),[V,R]=w.useState(!1),[O,z]=w.useState(!1),[H,J]=w.useState(null),[ht,Ae]=w.useState(!1),[Ee,Se]=w.useState(null),[I,B]=w.useState(!1),ie=w.useRef(null),pe=w.useRef(null),pt=w.useRef(null),mn=w.useRef(null),Gr=w.useRef(!1),gn=n==="RANDOM"&&(i!=null&&i.assignedVoice)?i.assignedVoice:n;w.useEffect(()=>()=>{Ye(),Zo()},[]),w.useEffect(()=>{Ye()},[i]),w.useEffect(()=>{s||(F("TOPIC"),Q(fs[e][0]),y([]),x([]),M([]),c(-1),R(!1),Zo())},[e]),w.useEffect(()=>{if(e===D.CHINESE&&i&&pt.current&&!p&&le==="CARD"){pt.current&&(pt.current.innerHTML="");const N=i.word.charAt(0);if(/[\u4e00-\u9fa5]/.test(N))try{mn.current=wt.create(pt.current,N,{width:50,height:50,padding:2,showOutline:!0,strokeAnimationSpeed:1,delayBetweenLoops:1e3,strokeColor:"#333333",radicalColor:"#168F16",onLoadCharDataSuccess:()=>{var A;(A=mn.current)==null||A.loopCharacterAnimation()}})}catch(A){console.error("HanziWriter error",A)}}},[i,e,p,le]);const _o=async()=>{if(C)return[];if(T.current)return T.current;E.current=!0;const N=async()=>{try{const A=e===D.ENGLISH?"en":"zh",K=[...h].slice(0,100),De=(await Zp(U,A,t,K)).map(yn=>{const Sf=Vn[Math.floor(Math.random()*Vn.length)];return{...yn,imageUrl:void 0,assignedVoice:Sf}});return x(yn=>[...yn,...De]),De}catch(A){return console.warn("Batch fetch failed",A),[]}finally{E.current=!1,T.current=null}};return T.current=N(),T.current},Co=async N=>{if(N.imageUrl)return N;try{const A=await cn(N.imagePrompt),K={...N,imageUrl:A};return x(me=>me.map(De=>De.word===N.word?K:De)),K}catch{return console.error("Failed to load image for",N.word),N}};w.useEffect(()=>{if(_.length>0){const N=_[0];N.imageUrl?wr(N.imageUrl):Co(N).then(K=>{K.imageUrl&&wr(K.imageUrl)});const A=n==="RANDOM"&&N.assignedVoice?N.assignedVoice:n;el(N.word,A),el(N.translation,A),el(N.sentence,A)}},[i,_.length,n]);const No=N=>{Ye(),g(!0),setTimeout(()=>{N(),setTimeout(()=>g(!1),50)},300)},Qr=async()=>{if(m($.LOADING),J(null),Se(null),W("CARD"),C){const N=l.filter(A=>A.mode===e&&A.type==="FLASHCARD");if(N.length>0){const K=N[Math.floor(Math.random()*N.length)].data;K.imageUrl||(K.imageUrl=await cn(K.imagePrompt)),K.imageUrl&&wr(K.imageUrl),u(K),m($.SUCCESS),setTimeout(()=>Yn(K),500);return}else alert(""),P(!1)}if(_.length>0){const N=_[0];x(K=>K.slice(1)),_.length<=10&&!E.current&&_o();const A=await Co(N);oa(A)}else{const N=await _o();if(N.length>0){const A=N[0];x(me=>me.slice(1));const K=await Co(A);oa(K)}else m($.ERROR)}},oa=N=>{u(N),m($.SUCCESS),o(N),M(A=>[...A,N]),c(A=>A+1),y(A=>[N.word,...A].slice(0,200)),setTimeout(()=>Yn(N),600)},Yn=N=>{if(!N)return;const A=[N.word,N.translation,N.sentence],K=n==="RANDOM"&&N.assignedVoice?N.assignedVoice:n;dm(A,K)},Eo=()=>{No(()=>{if(f<k.length-1){const N=f+1;c(N);const A=k[N];u(A),J(null),Se(null),Yn(A)}else Qr()})},la=()=>{f>0&&No(()=>{const N=f-1;c(N),u(k[N]),J(null),Se(null),Yn(k[N])})},ia=N=>{pe.current=N},aa=N=>{if(pe.current===null)return;const A=pe.current-N;pe.current=null,Math.abs(A)>50&&(A>0?Eo():la())};w.useEffect(()=>{if(s&&!Gr.current){u(s),m($.SUCCESS),Gr.current=!0,y([s.word]),M([s]),c(0),_o();return}Gr.current||(Qr(),Gr.current=!0)},[s]);const ua=w.useRef(U+t);w.useEffect(()=>{ua.current!==U+t&&(y([]),x([]),M([]),c(-1),Zo(),No(()=>Qr()),ua.current=U+t)},[U,t]);const ca=()=>{if(O)return;Ye(),J(null),z(!0);const N=e===D.ENGLISH?"en":"zh";ie.current=Br(N,A=>{z(!1),wf(A)},()=>z(!1),A=>{console.error(A),z(!1)})},Kr=()=>{if(ie.current)try{ie.current.stop()}catch{}z(!1)},wf=async N=>{if(i){Ae(!0);try{const A=e===D.ENGLISH?"en":"zh",K=await om(i.word,N,A);if(J(K),K.comment){let me=K.comment;if(K.score===3){const De=["","","",""];me=De[Math.floor(Math.random()*De.length)]+" "+me}else K.score===1&&(me=""+me);ue(me,gn)}K.score>=2&&(r(1,1),K.score===3&&v(Date.now()))}finally{Ae(!1)}}},da=async N=>{if(!(!i&&!V)){B(!0);try{const A=e===D.CHINESE,K=V?U:A?i.word[0]:i.word,me=await Zd(K,N,A);if(Se(me),me.comment){let De=me.comment;if(me.score===3){const yn=["","",""];De=yn[Math.floor(Math.random()*yn.length)]+" "+De}else me.score===1&&(De=""+De);ue(De,gn)}me.score>=2&&(r(1,1),me.score===3&&v(Date.now()))}finally{B(!1)}}},fa=N=>{const A=or.indexOf(U);if(A===-1)return;const K=(A+N+or.length)%or.length;Q(or[K])},ha="bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200 transform scale-105 z-10",pa="bg-white border-gray-200 text-gray-500 hover:border-indigo-300 hover:text-indigo-600";return a.jsxs("div",{className:"max-w-xl mx-auto space-y-4 pb-24",children:[a.jsx(ko,{trigger:S}),a.jsxs("div",{className:"flex flex-col gap-2",children:[e===D.ENGLISH&&a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{onClick:()=>{F("TOPIC"),Q(fs[D.ENGLISH][0]),R(!1)},className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all border-2 ${b==="TOPIC"?ha:pa}`,children:" "}),a.jsx("button",{onClick:()=>{F("ALPHABET"),Q("A")},className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all border-2 ${b==="ALPHABET"?ha:pa}`,children:" "})]}),a.jsx("div",{className:"flex justify-end px-2",children:a.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[a.jsx("span",{className:`text-sm font-bold ${C?"text-orange-500":"text-gray-400"}`,children:C?" ":" "}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",className:"sr-only",checked:C,onChange:()=>P(!C)}),a.jsx("div",{className:`block w-10 h-6 rounded-full transition-colors ${C?"bg-orange-400":"bg-gray-300"}`}),a.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${C?"transform translate-x-4":""}`})]})]})})]}),a.jsx("div",{className:"overflow-x-auto pb-2 no-scrollbar px-1 -mx-4 sm:mx-0",children:a.jsx("div",{className:"flex gap-2 px-4 sm:px-0 w-max mx-auto",children:b==="TOPIC"?fs[e].map(N=>a.jsx("button",{onClick:()=>Q(N),className:`px-4 py-1.5 rounded-full whitespace-nowrap text-sm font-bold transition-all border-2 ${U===N?"bg-purple-600 text-white border-purple-600 shadow-md":"bg-white text-gray-500 border-gray-200 hover:bg-gray-50"}`,children:N},N)):a.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-full",children:or.map(N=>a.jsx("button",{onClick:()=>{Q(N),R(!1)},className:`w-9 h-9 rounded-xl flex items-center justify-center text-sm font-bold transition-all border-2 ${U===N?"bg-pink-500 text-white border-pink-500 shadow-md":"bg-white text-gray-500 border-gray-200 hover:border-pink-300"}`,children:N},N))})})}),b==="ALPHABET"&&a.jsxs("div",{className:"flex justify-center gap-4 mb-2",children:[a.jsxs("button",{onClick:()=>R(!0),className:`px-4 py-1 rounded-full text-xs font-bold transition-all border ${V?"bg-kid-pink text-white border-kid-pink":"bg-white text-gray-500 border-gray-200"}`,children:["  (",U,")"]}),a.jsx("button",{onClick:()=>R(!1),className:`px-4 py-1 rounded-full text-xs font-bold transition-all border ${V?"bg-white text-gray-500 border-gray-200":"bg-kid-blue text-white border-kid-blue"}`,children:" "})]}),V?a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col relative border-2 border-gray-100 min-h-[500px] p-6 items-center justify-center space-y-6 animate-fade-in",children:[a.jsx("button",{onClick:()=>fa(-1),className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white border border-gray-200 rounded-full shadow-md z-30 flex items-center justify-center text-gray-600 hover:bg-gray-50 transition-colors",children:""}),a.jsx("button",{onClick:()=>fa(1),className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white border border-gray-200 rounded-full shadow-md z-30 flex items-center justify-center text-gray-600 hover:bg-gray-50 transition-colors",children:""}),a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-8xl font-black text-gray-800 font-sans tracking-wider mb-2",children:[U," ",a.jsx("span",{className:"text-6xl text-gray-400 font-normal",children:U.toLowerCase()})]}),a.jsx("button",{onClick:()=>ue(U,gn),className:"mt-2 w-12 h-12 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center text-2xl shadow-sm hover:scale-110 transition-transform",children:""})]}),a.jsx(si,{target:U,isChinese:!1,onGrade:da,isGrading:I,strokeGuideUrl:null}),Ee&&a.jsxs("div",{className:"mt-4 w-full bg-white border-2 border-green-300 rounded-xl p-3 shadow-sm animate-bounce-in text-center relative max-w-sm",children:[a.jsx("button",{onClick:()=>Se(null),className:"absolute top-1 right-2 text-gray-300 hover:text-gray-500",children:""}),a.jsx("div",{className:"flex justify-center text-2xl mb-1",children:[1,2,3].map(N=>a.jsx("span",{className:N<=Ee.score?"":"grayscale opacity-30",children:""},N))}),a.jsx("p",{className:"font-bold text-gray-700",children:Ee.comment})]})]}):a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col relative border-2 border-gray-100 min-h-[500px] select-none touch-pan-y",onMouseDown:N=>ia(N.clientX),onMouseUp:N=>aa(N.clientX),onTouchStart:N=>ia(N.touches[0].clientX),onTouchEnd:N=>aa(N.changedTouches[0].clientX),children:[d===$.LOADING&&a.jsx("div",{className:"h-full flex items-center justify-center flex-1",children:a.jsx(Vr,{text:`${e===D.ENGLISH?"":""}...`})}),d===$.ERROR&&a.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 flex-1",children:[a.jsx("p",{className:"text-red-500 mb-4 font-bold",children:""}),a.jsx("button",{onClick:()=>Qr(),className:"bg-kid-blue text-white px-6 py-2 rounded-full font-bold",children:""})]}),d===$.SUCCESS&&i&&a.jsxs("div",{className:`w-full flex flex-col flex-1 relative transition-opacity duration-300 ${p?"opacity-0":"opacity-100"}`,children:[a.jsx("button",{onClick:N=>{N.stopPropagation(),la()},disabled:f<=0,className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white border border-gray-200 hover:bg-gray-50 rounded-full shadow-md z-30 flex items-center justify-center text-gray-600 disabled:opacity-0 transition-opacity",children:""}),a.jsx("button",{onClick:N=>{N.stopPropagation(),Eo()},className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white border border-gray-200 hover:bg-gray-50 rounded-full shadow-md z-30 flex items-center justify-center text-gray-600 disabled:opacity-0 transition-opacity",children:""}),a.jsxs("div",{className:"absolute top-2 right-2 z-20 flex bg-white/80 rounded-full p-1 border border-gray-200 shadow-sm backdrop-blur-sm",children:[a.jsx("button",{onClick:()=>W("CARD"),className:`px-3 py-1 rounded-full text-xs font-bold transition-colors ${le==="CARD"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:" "}),a.jsx("button",{onClick:()=>W("WRITE"),className:`px-3 py-1 rounded-full text-xs font-bold transition-colors ${le==="WRITE"?"bg-green-100 text-green-600":"text-gray-400"}`,children:" "})]}),le==="CARD"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"h-64 bg-gray-50 w-full relative group flex items-center justify-center border-b border-gray-50 overflow-hidden p-6",children:[i.imageUrl?a.jsx("img",{src:i.imageUrl,alt:i.word,className:"w-full h-full object-contain drop-shadow-md animate-fade-in",draggable:!1,onError:N=>{N.currentTarget.src=`https://placehold.co/600x600/e2e8f0/475569?text=${encodeURIComponent(i.word)}`}}):a.jsxs("div",{className:"text-gray-300 flex flex-col items-center animate-pulse",children:[a.jsx("span",{className:"text-4xl",children:""}),a.jsx("span",{className:"text-xs mt-2",children:"..."})]}),a.jsx("a",{href:`https://image.baidu.com/search/index?tn=baiduimage&word=${encodeURIComponent(i.word+" ")}`,target:"_blank",rel:"noopener noreferrer",onMouseDown:N=>N.stopPropagation(),onTouchStart:N=>N.stopPropagation(),className:"absolute bottom-2 right-2 bg-white text-gray-700 px-3 py-1 rounded-full text-xs font-bold shadow-md flex items-center gap-1 opacity-70 group-hover:opacity-100 transition-opacity border border-gray-200",children:"  (Baidu)"})]}),a.jsxs("div",{className:"p-4 flex flex-col items-center justify-center text-center space-y-4 flex-1",children:[a.jsxs("div",{className:"flex flex-row items-center justify-center gap-2 flex-wrap",children:[a.jsx("h2",{className:"text-5xl font-black text-gray-800 tracking-wide font-sans",children:i.word}),a.jsx("button",{onClick:()=>ue(i.word,gn),className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 hover:scale-110 transition-transform text-sm",children:""}),i.pinyin&&a.jsxs("p",{className:"text-gray-400 font-mono text-lg -mt-2 mx-2",children:["[",i.pinyin,"]"]}),a.jsx("span",{className:"text-3xl text-pink-500 font-bold font-sans",children:i.translation}),a.jsx("button",{onClick:()=>ue(i.translation,gn),className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center text-pink-600 hover:scale-110 transition-transform text-sm",children:""}),e===D.CHINESE&&a.jsx("div",{ref:pt,className:"w-12 h-12 bg-white border border-kid-green rounded shadow-sm inline-block align-middle ml-2"})]}),a.jsxs("div",{className:"bg-yellow-50/80 rounded-xl p-4 border border-yellow-100 w-full max-w-sm relative hover:bg-yellow-100 transition-colors flex items-center gap-3",children:[a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-gray-800 font-medium text-lg leading-snug font-sans",children:i.sentence}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:i.sentenceTranslation})]}),a.jsx("button",{onClick:()=>ue(i.sentence,gn),className:"w-10 h-10 bg-yellow-200 rounded-full flex items-center justify-center text-yellow-700 hover:scale-110 transition-transform flex-shrink-0",children:""})]}),a.jsxs("div",{className:"flex items-center gap-6 mt-2",children:[a.jsx("button",{onClick:()=>Yn(i),className:"w-16 h-16 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-3xl shadow-lg hover:bg-blue-200 hover:scale-105 active:scale-95 transition-all animate-breathe",title:"",children:""}),!H&&!ht&&a.jsx("button",{onMouseDown:ca,onTouchStart:N=>{N.preventDefault(),ca()},onTouchEnd:N=>{N.preventDefault(),Kr()},onTouchCancel:Kr,onMouseUp:Kr,onMouseLeave:Kr,onContextMenu:N=>N.preventDefault(),className:`w-16 h-16 rounded-full flex items-center justify-center text-3xl shadow-lg transition-all active:scale-95 touch-none select-none
                                            ${O?"bg-red-500 text-white animate-pulse ring-4 ring-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,children:O?a.jsx(hg,{}):""})]}),O&&a.jsx("p",{className:"text-xs text-gray-400 font-bold",children:"..."}),ht&&a.jsx("div",{className:"text-blue-500 font-bold animate-pulse",children:" ..."}),H&&a.jsxs("div",{className:"w-full max-w-sm bg-white border-2 border-yellow-300 rounded-2xl p-4 shadow-xl animate-fade-in relative flex flex-col gap-2",children:[a.jsx("button",{onClick:()=>J(null),className:"absolute top-2 right-3 text-gray-300 hover:text-gray-500 font-bold",children:""}),a.jsx("div",{className:"flex justify-center text-3xl mb-1",children:[1,2,3].map(N=>a.jsx("span",{className:N<=H.score?"":"grayscale opacity-30",children:""},N))}),H.breakdown&&a.jsx("div",{className:"flex justify-center gap-2 my-2 flex-wrap",children:H.breakdown.map((N,A)=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`
                                                        px-3 py-1 rounded-lg text-lg font-black border-b-4
                                                        ${N.status==="correct"?"bg-green-100 text-green-700 border-green-300":"bg-red-100 text-red-600 border-red-300"}
                                                    `,children:N.text}),N.pinyinOrIpa&&a.jsx("span",{className:"text-[10px] text-gray-400 font-mono mt-1",children:N.pinyinOrIpa})]},A))}),a.jsx("p",{className:"font-bold text-gray-700 text-center",children:H.comment}),H.userPhonetic&&H.correctPhonetic&&!H.breakdown&&a.jsxs("div",{className:"text-xs text-gray-400 flex justify-between px-4 mt-2 bg-gray-50 py-2 rounded-lg",children:[a.jsxs("span",{children:[": /",H.userPhonetic,"/"]}),a.jsxs("span",{children:[": /",H.correctPhonetic,"/"]})]})]})]})]}),le==="WRITE"&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-slate-50 w-full",onMouseDown:N=>N.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-4 font-sans",children:e===D.CHINESE?"":""}),a.jsx(si,{target:e===D.CHINESE?i.word[0]:i.word,isChinese:e===D.CHINESE,strokeGuideUrl:null,onGrade:da,isGrading:I}),Ee&&a.jsxs("div",{className:"mt-4 w-full bg-white border-2 border-green-300 rounded-xl p-3 shadow-sm animate-bounce-in text-center relative max-w-sm",children:[a.jsx("button",{onClick:()=>Se(null),className:"absolute top-1 right-2 text-gray-300 hover:text-gray-500",children:""}),a.jsx("div",{className:"flex justify-center text-2xl mb-1",children:[1,2,3].map(N=>a.jsx("span",{className:N<=Ee.score?"":"grayscale opacity-30",children:""},N))}),a.jsx("p",{className:"font-bold text-gray-700",children:Ee.comment})]})]})]})]}),!V&&a.jsx("div",{className:"flex justify-center px-4",children:a.jsx("button",{onClick:Eo,disabled:d===$.LOADING,className:"w-full sm:w-auto bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-lg font-bold py-3 px-12 rounded-full shadow-lg shadow-blue-200 active:scale-95 transition-all flex items-center justify-center gap-2 animate-breathe",children:C?"  (Review)":"  (New)"})})]})},pg=({onUpdateProgress:e,difficulty:t,voiceId:n,initialData:r,onAddToHistory:s})=>{const[o,l]=w.useState([]),[i,u]=w.useState([]),[d,m]=w.useState($.IDLE),[p,g]=w.useState(!1),[S,v]=w.useState([]),k=w.useRef(null),M=w.useRef(!1),f=w.useRef(null);w.useEffect(()=>{lm(t).then(v)},[t]),w.useEffect(()=>{r&&!M.current&&(u([r]),l([{role:"user",content:r.question},{role:"assistant",content:r.answer}]),M.current=!0)},[r]),w.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[i,d]),w.useEffect(()=>()=>{if(k.current)try{k.current.stop()}catch{}Ye()},[]);const c=x=>{ue(x,n)},h=async x=>{if(x.trim()){m($.LOADING);try{const E=await im(x,t,o);let T="";E.imageUrl&&(T=await cn(E.imageUrl),wr(T));const C={...E,generatedImage:T};u(P=>[...P,C]),l(P=>[...P,{role:"user",content:x},{role:"assistant",content:E.answer}]),m($.SUCCESS),s(E),c(E.answer)}catch(E){console.error(E),m($.ERROR)}}},y=()=>{p||(g(!0),k.current=Br("zh",x=>{h(x)},()=>g(!1),x=>{alert(x),g(!1)}))},_=()=>{if(k.current)try{k.current.stop()}catch{}g(!1)};return a.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col max-w-2xl mx-auto",children:[a.jsxs("div",{className:"bg-gradient-to-r from-kid-blue to-blue-400 p-4 rounded-2xl shadow-md mb-4 flex items-center gap-4 text-white",children:[a.jsx("div",{className:"bg-white/20 p-2 rounded-full text-3xl backdrop-blur-sm",children:""}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-black text-xl tracking-wide",children:""}),a.jsx("p",{className:"opacity-90 text-sm",children:"Professor Panda "})]})]}),a.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto space-y-6 pr-2 no-scrollbar pb-4 scroll-smooth",children:[i.length===0&&d===$.IDLE&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-6 animate-fade-in",children:[a.jsx("div",{className:"text-6xl animate-bounce",children:""}),a.jsx("p",{className:"text-gray-500 font-bold text-lg",children:""}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-sm",children:S.map((x,E)=>a.jsx("button",{onClick:()=>h(x),className:"bg-white border-2 border-kid-blue/30 text-kid-blue px-4 py-2 rounded-full font-bold shadow-sm hover:bg-kid-blue hover:text-white transition-all text-sm",children:x},E))})]}),i.map((x,E)=>a.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[a.jsx("div",{className:"flex justify-end",children:a.jsx("div",{className:"bg-kid-purple text-white px-5 py-3 rounded-2xl rounded-tr-sm shadow-md max-w-[85%] text-lg font-medium leading-relaxed",children:x.question})}),a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-white border border-gray-100 p-5 rounded-2xl rounded-tl-sm shadow-lg max-w-[95%] space-y-4 w-full",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-3xl mt-1 flex-shrink-0",children:""}),a.jsxs("div",{className:"space-y-3 w-full min-w-0",children:[a.jsx("p",{className:"text-lg text-gray-800 leading-relaxed font-medium",children:x.answer}),x.generatedImage&&a.jsx("div",{className:"relative rounded-xl overflow-hidden border border-gray-100 shadow-inner w-full bg-gray-50",children:a.jsx("img",{src:x.generatedImage,alt:"Illustration",className:"w-full h-auto object-cover max-h-60"})}),a.jsxs("div",{className:"flex gap-3 pt-1",children:[a.jsx("button",{onClick:()=>c(x.answer),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-1 hover:bg-blue-100 transition-colors",children:" "}),x.imageUrl&&a.jsxs("a",{href:`https://image.baidu.com/search/index?tn=baiduimage&word=${encodeURIComponent(x.imageUrl)}`,target:"_blank",rel:"noopener noreferrer",className:"bg-pink-50 text-pink-600 px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-1 hover:bg-pink-100 transition-colors",children:[" : ",x.imageUrl]})]})]})]})})})]},E)),d===$.LOADING&&a.jsx("div",{className:"flex justify-start animate-pulse",children:a.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl rounded-tl-sm shadow-sm flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-gray-500 font-bold",children:p?"...":"..."})]})})]}),a.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2 select-none pt-2 border-t border-gray-100",children:[a.jsx("button",{onMouseDown:y,onTouchStart:x=>{x.preventDefault(),y()},onMouseUp:_,onTouchEnd:x=>{x.preventDefault(),_()},onTouchCancel:_,onMouseLeave:_,onContextMenu:x=>x.preventDefault(),disabled:d===$.LOADING,className:`
                h-20 w-20 rounded-full flex items-center justify-center text-4xl shadow-xl border-4 transition-all cursor-pointer touch-none
                ${p?"bg-red-500 border-red-200 text-white animate-pulse shadow-red-200":"bg-gradient-to-b from-kid-green to-green-500 border-green-200 text-white hover:scale-105 active:scale-95 shadow-green-200"}
            `,children:p?"":""}),a.jsx("p",{className:"text-gray-400 text-xs font-bold",children:p?" (Release to Send)":" (Hold to Ask)"})]})]})},mg=({history:e,difficulty:t,voiceId:n,onUpdateProgress:r,onNavigate:s})=>{const[o,l]=w.useState($.IDLE),[i,u]=w.useState(null),[d,m]=w.useState(""),[p,g]=w.useState(null),S=w.useRef(!1),[v,k]=w.useState(!1),[M,f]=w.useState(""),[c,h]=w.useState(!1),y=w.useRef(null),[_,x]=w.useState(3),[E,T]=w.useState(1),C=()=>t<=5?1:t<=8?3:5,P=()=>{let W="Apple";if(e.length>0){const V=e.filter(R=>R.type==="FLASHCARD");if(V.length>0){const R=V[Math.floor(Math.random()*V.length)];W=R.data.word||R.preview}}return W},b=async()=>{if(!S.current){S.current=!0;try{const W=P(),V=await Eu(W);cn(V.imagePrompt).then(R=>{g({data:V,img:R}),S.current=!1})}catch(W){console.warn("Preload game failed",W),S.current=!1}}},F=async()=>{if(l($.LOADING),u(null),m(""),f(""),h(!1),p){u(p.data),m(p.img),l($.SUCCESS);const W=p.data;g(null),ue(W.introText,n),W.type==="QUIZ"&&setTimeout(()=>ue(W.question||"",n),2500),setTimeout(b,1e3);return}try{const W=P(),V=await Eu(W);u(V),cn(V.imagePrompt).then(R=>{m(R),l($.SUCCESS),ue(V.introText,n),V.type==="QUIZ"&&V.question&&setTimeout(()=>ue(V.question||"",n),2500),b()})}catch(W){console.error(W),l($.ERROR)}};w.useEffect(()=>(F(),()=>{y.current&&y.current.stop(),Ye()}),[]);const U=()=>{if(!i||i.type!=="SPEAK"||v)return;k(!0),f("...");const V=/[\u4e00-\u9fa5]/.test(i.targetWord)?"zh":"en";y.current=Br(V,R=>{const O=R.toLowerCase().replace(/[.,!?]/g,""),z=i.targetWord.toLowerCase().replace(/[.,!?]/g,"");O.includes(z)||z.includes(O)?(f(" "),ue(i.successText,n),k(!1),r(C(),1),T(H=>H+1),setTimeout(()=>F(),2500)):(f(`: ${i.targetWord}`),k(!1),x(H=>Math.max(0,H-1)))},()=>k(!1),R=>{f(""),k(!1)})},Q=()=>{if(y.current)try{y.current.stop()}catch{}k(!1)},le=W=>{c||!i||(W===i.correctAnswer?(f(" "),h(!0),ue(i.successText,n),r(C(),1),T(V=>V+1),setTimeout(()=>F(),2500)):(f(" "),ue("",n),x(V=>Math.max(0,V-1))))};return o===$.LOADING||!i?a.jsxs("div",{className:"h-96 flex items-center justify-center flex-col",children:[a.jsx(Vr,{text:"..."}),p&&a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"..."})]}):o===$.ERROR?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[a.jsx("p",{className:"text-red-500",children:""}),a.jsx("button",{onClick:F,className:"bg-blue-500 text-white px-4 py-2 rounded-full",children:""})]}):a.jsxs("div",{className:"relative w-full max-w-2xl mx-auto rounded-3xl overflow-hidden shadow-2xl bg-gray-900 border-4 border-yellow-400 aspect-[4/5] sm:aspect-[4/3] transition-all",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[d&&a.jsx("img",{src:d,alt:"Scene",className:"w-full h-full object-cover animate-fade-in"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/10 to-black/30"})]}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between p-6 text-white",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"bg-black/60 backdrop-blur-md px-4 py-2 rounded-full border border-white/20 shadow-lg flex items-center gap-4",children:[a.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((W,V)=>a.jsx("span",{className:`text-xl transition-all ${V<_?"opacity-100 scale-100":"opacity-30 scale-75 grayscale"}`,children:""},V))}),a.jsx("div",{className:"w-px h-6 bg-white/20"}),a.jsxs("span",{className:"font-black text-yellow-300",children:["Level ",E]})]}),a.jsx("button",{onClick:()=>s(D.HOME),className:"w-10 h-10 bg-white hover:bg-red-100 rounded-full flex items-center justify-center text-gray-800 font-bold backdrop-blur-sm transition-colors border-2 border-white",children:""})]}),a.jsx("div",{className:"mt-4 animate-slide-down",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-600/80 to-purple-600/80 p-4 rounded-xl border border-white/30 backdrop-blur-md shadow-lg text-center",children:a.jsx("p",{className:"text-lg font-bold text-white drop-shadow-md",children:i.introText})})}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center py-4 space-y-6",children:[i.type==="SPEAK"&&a.jsxs("div",{className:"text-center transform transition-all cursor-pointer group hover:scale-105",onClick:()=>ue(i.targetWord,n),children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("div",{className:"absolute inset-0 bg-yellow-400 rounded-3xl blur opacity-30 animate-pulse"}),a.jsx("div",{className:"bg-white/95 text-gray-900 px-10 py-6 rounded-3xl shadow-[0_0_40px_rgba(255,215,0,0.5)] border-b-8 border-yellow-500 relative z-10",children:a.jsx("h1",{className:"text-5xl sm:text-7xl font-black tracking-wider text-transparent bg-clip-text bg-gradient-to-br from-gray-800 to-black",children:i.targetWord})})]}),a.jsx("p",{className:"text-center mt-4 font-bold text-yellow-200 animate-bounce text-lg",children:" "})]}),i.type==="QUIZ"&&i.options&&a.jsxs("div",{className:"w-full max-w-md space-y-4",children:[a.jsx("div",{className:"bg-black/50 p-4 rounded-xl text-center backdrop-blur-md border border-white/10",children:a.jsx("h3",{className:"text-2xl font-bold text-white",children:i.question})}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.options.map((W,V)=>a.jsx("button",{onClick:()=>le(W),disabled:c,className:`
                                        w-full p-4 rounded-xl font-bold text-xl transition-all border-b-4 active:border-b-0 active:translate-y-1 transform
                                        ${c&&W===i.correctAnswer?"bg-green-500 border-green-700 text-white shadow-[0_0_20px_rgba(34,197,94,0.6)] scale-105":"bg-white text-gray-900 border-gray-300 hover:bg-yellow-300 hover:border-yellow-500"}
                                    `,children:W},V))})]})]}),a.jsxs("div",{className:"flex flex-col items-center justify-end min-h-[100px]",children:[a.jsx("p",{className:`text-3xl font-black mb-4 transition-all transform ${M?"scale-110 opacity-100":"scale-0 opacity-0"} ${M.includes("")?"text-green-400 drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)]":"text-red-300"}`,children:M}),i.type==="SPEAK"&&!M.includes("")&&a.jsx("button",{onMouseDown:U,onTouchStart:W=>{W.preventDefault(),U()},onMouseUp:Q,onTouchEnd:W=>{W.preventDefault(),Q()},onTouchCancel:Q,onMouseLeave:Q,onContextMenu:W=>W.preventDefault(),className:`
                        w-24 h-24 rounded-full flex items-center justify-center text-5xl shadow-2xl border-4 transition-all touch-none select-none
                        ${v?"bg-red-500 border-red-300 animate-pulse ring-4 ring-red-500/30":"bg-gradient-to-b from-green-400 to-green-600 border-green-300 hover:scale-105 hover:shadow-green-500/50 active:scale-95"}
                        `,children:v?"":""})]})]})]})},gg=({onUpdateProgress:e,voiceId:t})=>{const[n,r]=w.useState($.IDLE),[s,o]=w.useState(null),[l,i]=w.useState(""),[u,d]=w.useState(""),[m,p]=w.useState([]),[g,S]=w.useState(""),[v,k]=w.useState(!1),[M,f]=w.useState(!1),[c,h]=w.useState(!1),y=w.useRef(null),_=w.useRef(null);w.useEffect(()=>(x(),()=>{y.current&&y.current.stop(),Ye()}),[]),w.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[m]);const x=async()=>{r($.LOADING);try{const b=await am();o(b);const F=cn(b.bgPrompt),U=cn(b.characterAvatarPrompt),[Q,le]=await Promise.all([F,U]);i(Q),d(le),S(b.openingLine),r($.SUCCESS),E(b.openingLine)}catch(b){console.error(b),r($.ERROR)}},E=async b=>{h(!0),await ue(b,t),h(!1)},T=async b=>{if(!s)return;const F={role:"user",content:b},U=[...m,{role:"assistant",content:g},F];p(Q=>[...Q,F]),f(!0);try{const Q=await um(s,U,b);p(le=>[...le,{role:"assistant",content:Q}]),S(Q),E(Q)}catch(Q){console.error(Q),S("")}finally{f(!1)}},C=()=>{v||(k(!0),y.current=Br("zh",b=>{k(!1),b&&T(b)},()=>k(!1),b=>{console.error(b),k(!1)}))},P=()=>{if(y.current)try{y.current.stop()}catch{}k(!1)};return n===$.LOADING?a.jsx("div",{className:"h-96 flex flex-col items-center justify-center",children:a.jsx(Vr,{text:"..."})}):n===$.ERROR||!s?a.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[a.jsx("p",{children:""}),a.jsx("button",{onClick:x,className:"bg-blue-500 text-white px-4 py-2 rounded-full",children:""})]}):a.jsxs("div",{className:"relative w-full max-w-2xl mx-auto h-[calc(100vh-140px)] flex flex-col",children:[a.jsxs("div",{className:"flex-1 relative bg-black rounded-3xl overflow-hidden border-[12px] border-gray-800 shadow-2xl ring-4 ring-gray-300",children:[a.jsxs("div",{className:"absolute inset-0 bg-sky-300",children:[l&&a.jsx("img",{src:l,className:"w-full h-full object-cover",alt:"bg"}),a.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-64 h-64 z-10 transition-all duration-300",children:u&&a.jsx("img",{src:u,className:`w-full h-full object-contain drop-shadow-2xl origin-bottom ${c?"animate-bounce":"animate-pulse"}`,alt:"Character"})}),a.jsx("div",{className:"absolute top-4 left-4 right-4 z-20",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-md border-2 border-white rounded-2xl p-4 shadow-lg text-center relative",children:[a.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white rotate-45 border-b-2 border-r-2 border-white"}),a.jsx("p",{className:"text-gray-800 font-bold text-lg leading-relaxed",children:g})]})})]}),a.jsxs("div",{className:"absolute top-4 left-4 z-30 bg-black/50 text-white px-3 py-1 rounded font-mono text-xs",children:["CH 01: ",s.sceneName]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-between px-4",children:[a.jsxs("button",{onClick:x,className:"flex flex-col items-center gap-1 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-xl shadow-sm border border-gray-300",children:""}),a.jsx("span",{className:"text-xs font-bold",children:""})]}),a.jsx("button",{onMouseDown:C,onTouchStart:b=>{b.preventDefault(),C()},onMouseUp:P,onTouchEnd:b=>{b.preventDefault(),P()},onTouchCancel:P,onMouseLeave:P,onContextMenu:b=>b.preventDefault(),className:`
                    w-20 h-20 rounded-full flex items-center justify-center text-4xl shadow-xl transition-all touch-none select-none border-4
                    ${v?"bg-red-500 border-red-300 text-white animate-pulse ring-4 ring-red-200":"bg-gradient-to-b from-orange-400 to-orange-500 border-orange-200 text-white hover:scale-105 active:scale-95"}
                `,children:v?"":""}),a.jsxs("div",{className:"w-12 flex flex-col items-center gap-1 opacity-50",children:[a.jsx("div",{className:"w-full h-1 bg-gray-300 rounded"}),a.jsx("div",{className:"w-full h-1 bg-gray-300 rounded"}),a.jsx("div",{className:"w-full h-1 bg-gray-300 rounded"}),a.jsx("span",{className:"text-xs font-bold text-gray-400",children:"Speaker"})]})]}),a.jsx("p",{className:"text-center text-xs text-gray-400 mt-2 font-bold animate-pulse",children:v?"...":`${(s==null?void 0:s.characterName)||""}`})]})},yg=({difficulty:e,voiceId:t,onUpdateProgress:n,onAddToHistory:r})=>{const[s,o]=w.useState("HANZI"),[l,i]=w.useState(""),[u,d]=w.useState($.IDLE),[m,p]=w.useState(null),[g,S]=w.useState(!1),[v,k]=w.useState(0),[M,f]=w.useState([]),[c,h]=w.useState(0),[y,_]=w.useState([]);w.useEffect(()=>(x(),()=>Ye()),[s,e]);const x=async()=>{if(p(null),d($.LOADING),s==="NUMBERS"){const C=["0","1","2","3","4","5","6","7","8","9"];i(C[0]),f(C),h(0),d($.SUCCESS)}else if(s==="LETTERS"){const C=Array.from({length:26},(P,b)=>String.fromCharCode(65+b));i(C[0]),f(C),h(0),d($.SUCCESS)}else try{const C=await sm(e,y);f(C),i(C[0]),h(0),_(P=>[...P,...C].slice(-50)),d($.SUCCESS)}catch{d($.ERROR)}},E=()=>{if(p(null),s==="HANZI"&&c>=M.length-1)x();else{const C=(c+1)%M.length;h(C),i(M[C])}},T=async C=>{S(!0);try{const b=await Zd(l,C,s==="HANZI");if(p(b),b.comment){let F=b.comment;if(b.score===3){const U=["","",""];F=U[Math.floor(Math.random()*U.length)]+" "+F}else b.score===1&&(F=""+F);ue(F,t)}b.score>=2&&(n(1,1),r({char:l,type:s}),b.score===3&&k(Date.now()))}finally{S(!1)}};return a.jsxs("div",{className:"max-w-xl mx-auto pb-20",children:[a.jsx(ko,{trigger:v}),a.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[a.jsx("button",{onClick:()=>o("HANZI"),className:`px-4 py-2 rounded-full font-bold transition-all ${s==="HANZI"?"bg-kid-yellow text-white shadow-md scale-105":"bg-white text-gray-500"}`,children:" "}),a.jsx("button",{onClick:()=>o("LETTERS"),className:`px-4 py-2 rounded-full font-bold transition-all ${s==="LETTERS"?"bg-kid-pink text-white shadow-md scale-105":"bg-white text-gray-500"}`,children:"Aa "}),a.jsx("button",{onClick:()=>o("NUMBERS"),className:`px-4 py-2 rounded-full font-bold transition-all ${s==="NUMBERS"?"bg-kid-blue text-white shadow-md scale-105":"bg-white text-gray-500"}`,children:"123 "})]}),u===$.LOADING&&a.jsx("div",{className:"h-64 flex justify-center items-center",children:a.jsx(Vr,{text:"..."})}),u===$.SUCCESS&&a.jsxs("div",{className:"flex flex-col items-center gap-6 animate-fade-in-up",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-6xl font-black text-gray-800 mb-2",children:l}),a.jsx("p",{className:"text-gray-400 text-sm",children:""})]}),a.jsx(si,{target:l,isChinese:s==="HANZI",strokeGuideUrl:null,onGrade:T,isGrading:g}),m&&a.jsxs("div",{className:"bg-white border-2 border-green-300 rounded-xl p-4 shadow-lg text-center animate-bounce-in max-w-sm w-full relative",children:[a.jsx("button",{onClick:()=>p(null),className:"absolute top-1 right-2 text-gray-300",children:""}),a.jsx("div",{className:"flex justify-center gap-1 text-3xl mb-2",children:[1,2,3].map(C=>a.jsx("span",{className:C<=m.score?"":"grayscale opacity-20",children:""},C))}),a.jsx("p",{className:"font-bold text-gray-700",children:m.comment}),m.score>=2&&a.jsx("button",{onClick:E,className:"mt-3 bg-green-500 text-white px-6 py-2 rounded-full font-bold shadow-md hover:bg-green-600 active:scale-95 transition-all",children:" "})]}),!m&&a.jsx("button",{onClick:E,className:"text-gray-400 font-bold hover:text-gray-600",children:" "})]})]})},vg=({difficulty:e,voiceId:t,onUpdateProgress:n,onAddToHistory:r})=>{const[s,o]=w.useState(""),[l,i]=w.useState(""),[u,d]=w.useState($.IDLE),[m,p]=w.useState([]),[g,S]=w.useState(!1),[v,k]=w.useState(null),[M,f]=w.useState(0),c=w.useRef(null),[h,y]=w.useState("#000000"),[_,x]=w.useState(5),[E,T]=w.useState(!1),[C,P]=w.useState(!1),[b,F]=w.useState(!1),[U,Q]=w.useState(!1),le=w.useRef(null),[W,V]=w.useState("zh-CN-XiaoyuMultilingualNeural");w.useEffect(()=>{if(t==="RANDOM"){const I=Vn[Math.floor(Math.random()*Vn.length)];V(I)}else V(t);return R(),()=>{if(Ye(),le.current)try{le.current.stop()}catch{}}},[]);const R=async I=>{d($.LOADING),i(""),k(null),F(!1),J();try{let B=I;B||(B=await tm(e,m)),o(B),p(pe=>[...pe,B].slice(-20));const ie=await nm(B);await wr(ie),i(ie),d($.SUCCESS),r({topic:B})}catch(B){console.error(B),d($.ERROR)}},O=I=>{const B=c.current;if(!B||v)return;T(!0),F(!0);const ie=B.getContext("2d");if(!ie)return;const pe=B.getBoundingClientRect(),pt=("touches"in I?I.touches[0].clientX:I.clientX)-pe.left,mn=("touches"in I?I.touches[0].clientY:I.clientY)-pe.top;ie.beginPath(),ie.moveTo(pt,mn),ie.strokeStyle=C?"#FFFFFF":h,ie.lineWidth=_,ie.lineCap="round",ie.lineJoin="round"},z=I=>{if(!E)return;I.preventDefault();const B=c.current;if(!B)return;const ie=B.getContext("2d");if(!ie)return;const pe=B.getBoundingClientRect(),pt=("touches"in I?I.touches[0].clientX:I.clientX)-pe.left,mn=("touches"in I?I.touches[0].clientY:I.clientY)-pe.top;ie.lineTo(pt,mn),ie.stroke()},H=()=>{T(!1)},J=()=>{const I=c.current;if(!I)return;const B=I.getContext("2d");B&&(B.clearRect(0,0,I.width,I.height),F(!1),k(null))},ht=async()=>{const I=c.current;if(I){S(!0);try{const B=await new Promise(ie=>I.toBlob(ie,"image/png"));if(B){const ie=await tf(B),pe=await rm(s,ie,e);k(pe),pe.score>=2&&(n(5,1),pe.score===3&&f(Date.now())),pe.comment&&ue(pe.comment,W)}}catch(B){console.error("Grading failed",B)}finally{S(!1)}}};w.useEffect(()=>{const I=c.current;if(I){const B=I.parentElement;B&&(I.width=B.clientWidth,I.height=B.clientHeight)}},[u]);const Ae=()=>{U||(Q(!0),le.current=Br("zh",I=>{Q(!1);let B=I;I.startsWith("")&&(B=I.substring(1)),I.endsWith("")&&(B=I.substring(0,I.length-1)),B&&R(B)},()=>Q(!1),I=>{Q(!1)}))},Ee=()=>{if(le.current)try{le.current.stop()}catch{}Q(!1)},Se=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FFA500","#800080","#FFC0CB","#A52A2A"];return a.jsxs("div",{className:"max-w-3xl mx-auto h-[calc(100vh-140px)] flex flex-col gap-4 relative",children:[a.jsx(ko,{trigger:M}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 p-4 rounded-3xl shadow-md flex justify-between items-center text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-black text-2xl",children:""}),a.jsx("p",{className:"text-base opacity-90",children:s?`: ${s}`:"Art Class"})]})]}),a.jsx("button",{onClick:()=>R(),className:"bg-white/20 hover:bg-white/30 px-6 py-3 rounded-full font-bold text-base backdrop-blur-sm transition-colors",children:" "})]}),a.jsxs("div",{className:"flex-1 relative bg-white rounded-3xl shadow-lg border-4 border-gray-200 overflow-hidden touch-none",children:[u===$.LOADING&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-white",children:a.jsx(Vr,{text:"..."})}),u===$.ERROR&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-white",children:a.jsx("p",{className:"text-red-500 font-bold",children:""})}),l&&a.jsx("div",{className:"absolute inset-0 z-0 bg-center bg-contain bg-no-repeat opacity-30 pointer-events-none",style:{backgroundImage:`url(${l})`}}),a.jsx("canvas",{ref:c,className:"absolute inset-0 z-10 cursor-crosshair w-full h-full",onMouseDown:O,onMouseMove:z,onMouseUp:H,onMouseLeave:H,onTouchStart:O,onTouchMove:z,onTouchEnd:H}),v&&a.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 bg-white border-4 border-yellow-400 rounded-3xl p-6 shadow-2xl animate-bounce-in max-w-sm w-full text-center",children:[a.jsx("div",{className:"flex justify-center gap-2 text-5xl mb-4",children:[1,2,3].map(I=>a.jsx("span",{className:I<=v.score?"":"grayscale opacity-20",children:""},I))}),a.jsx("p",{className:"font-black text-gray-800 text-2xl mb-4",children:v.comment}),a.jsx("button",{onClick:()=>k(null),className:"px-6 py-2 bg-gray-100 rounded-full font-bold text-gray-500 hover:bg-gray-200 text-lg",children:""})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-lg border border-gray-100 flex flex-col gap-4",children:[a.jsxs("div",{className:"flex gap-4 items-center justify-between overflow-x-auto pb-2 no-scrollbar",children:[a.jsx("div",{className:"flex gap-3",children:Se.map(I=>a.jsx("button",{onClick:()=>{y(I),P(!1)},className:`w-12 h-12 rounded-full border-2 shadow-sm transition-transform hover:scale-110 flex-shrink-0 ${h===I&&!C?"scale-110 ring-4 ring-gray-300":"border-white"}`,style:{backgroundColor:I}},I))}),a.jsxs("div",{className:"flex gap-3 pl-4 border-l-2 border-gray-100",children:[a.jsx("button",{onClick:()=>P(!0),className:`w-12 h-12 rounded-full border-2 flex items-center justify-center bg-gray-100 text-2xl shadow-sm hover:bg-gray-200 transition-colors ${C?"ring-4 ring-gray-300 bg-gray-200":"border-white"}`,title:"",children:""}),a.jsx("button",{onClick:J,className:"w-12 h-12 rounded-full border-2 flex items-center justify-center bg-red-50 text-red-500 text-2xl shadow-sm hover:bg-red-100 border-white",title:"",children:""})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("div",{className:"flex items-center gap-2 bg-gray-50 px-4 py-2 rounded-full border border-gray-200 shrink-0",children:[3,8,15].map((I,B)=>a.jsx("button",{onClick:()=>x(I),className:`w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-200 transition-colors ${_===I?"bg-gray-200":""}`,children:a.jsx("div",{className:"bg-gray-800 rounded-full",style:{width:B*4+6,height:B*4+6}})},I))}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onMouseDown:Ae,onTouchStart:I=>{I.preventDefault(),Ae()},onMouseUp:Ee,onTouchEnd:I=>{I.preventDefault(),Ee()},onTouchCancel:Ee,onMouseLeave:Ee,onContextMenu:I=>I.preventDefault(),className:`
                            flex items-center justify-center w-16 h-14 rounded-full font-bold shadow-md transition-all select-none text-2xl
                            ${U?"bg-red-500 text-white animate-pulse":"bg-orange-100 text-orange-500 hover:bg-orange-200"}
                        `,children:U?"":""}),a.jsx("button",{onClick:ht,disabled:!b||g,className:`
                            flex items-center gap-2 px-8 py-3 rounded-full font-black shadow-lg transition-all select-none text-white text-lg
                            ${g?"bg-gray-400 cursor-not-allowed":b?"bg-gradient-to-r from-green-400 to-green-600 hover:scale-105 active:scale-95":"bg-gray-300 cursor-not-allowed"}
                        `,children:g?"...":" "})]})]})]})]})},xg=({difficulty:e,voiceId:t,onUpdateProgress:n,onAddToHistory:r})=>{const[s,o]=w.useState(null),[l,i]=w.useState(""),[u,d]=w.useState("IDLE"),[m,p]=w.useState(0),[g,S]=w.useState(0);w.useEffect(()=>(v(),()=>Ye()),[e]);const v=w.useCallback(()=>{let c;const h=["","","","","",""],y=h[Math.floor(Math.random()*h.length)];if(e<=4)if(Math.random()>.5){const _=Math.floor(Math.random()*5)+1;c={question:`${y}?`,answer:_,visual:_,visualType:y}}else{const _=Math.floor(Math.random()*3)+1,x=Math.floor(Math.random()*(5-_))+1;c={question:`${_} + ${x} = ?`,answer:_+x,visual:_+x,visualType:y}}else if(e<=6)if(Math.random()>.4){const _=Math.floor(Math.random()*10)+1,x=Math.floor(Math.random()*10)+1;c={question:`${_} + ${x} = ?`,answer:_+x}}else{const _=Math.floor(Math.random()*10)+5,x=Math.floor(Math.random()*_);c={question:`${_} - ${x} = ?`,answer:_-x}}else if(e<=8)if(Math.random()>.5){const _=Math.floor(Math.random()*40)+10,x=Math.floor(Math.random()*40)+10;c={question:`${_} + ${x} = ?`,answer:_+x}}else{const _=Math.floor(Math.random()*50)+20,x=Math.floor(Math.random()*20)+1;c={question:`${_} - ${x} = ?`,answer:_-x}}else if(Math.random()>.5){const _=Math.floor(Math.random()*9)+2,x=Math.floor(Math.random()*9)+2;c={question:`${_}  ${x} = ?`,answer:_*x}}else{const _=Math.floor(Math.random()*8)+2,x=Math.floor(Math.random()*9)+2;c={question:`${_*x}  ${_} = ?`,answer:x}}o(c),i(""),d("IDLE"),ue(c.question.replace("=","").replace("+","").replace("-","").replace("","").replace("",""),t)},[e,t]),k=c=>{u==="IDLE"&&(c==="DEL"?i(h=>h.slice(0,-1)):c==="OK"?M():l.length<3&&i(h=>h+c))},M=()=>{if(!s||!l)return;if(parseInt(l)===s.answer){d("CORRECT"),p(Date.now()),S(_=>_+1);const h=["","","",""],y=h[Math.floor(Math.random()*h.length)];ue(y,t),n(1,1),r({question:s.question,result:"Correct"}),setTimeout(()=>{v()},2e3)}else d("WRONG"),S(0),ue("",t),setTimeout(()=>{d("IDLE"),i("")},1500)},f=["1","2","3","4","5","6","7","8","9","DEL","0","OK"];return a.jsxs("div",{className:"max-w-2xl mx-auto h-full flex flex-col justify-between pb-8",children:[a.jsx(ko,{trigger:m}),a.jsxs("div",{className:"flex justify-between items-center px-4 mb-4",children:[a.jsxs("div",{className:"bg-orange-100 text-orange-600 px-4 py-1 rounded-full font-bold",children:[" : ",g]}),a.jsx("button",{onClick:v,className:"text-gray-400 font-bold hover:text-gray-600",children:" "})]}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8 min-h-[300px]",children:s&&a.jsxs(a.Fragment,{children:[s.visual&&e<=4&&a.jsx("div",{className:"flex flex-wrap justify-center gap-4 animate-fade-in px-4",children:Array.from({length:s.visual}).map((c,h)=>a.jsx("span",{className:"text-6xl animate-bounce",style:{animationDelay:h*.1+"s"},children:s.visualType},h))}),a.jsx("div",{className:`
              text-7xl font-black tracking-wider transition-all duration-300
              ${u==="CORRECT"?"text-green-500 scale-110":u==="WRONG"?"text-red-500 shake":"text-gray-800"}
            `,children:s.question.replace("?",l||"?")}),u==="WRONG"&&a.jsx("p",{className:"text-red-400 font-bold text-xl animate-pulse",children:"..."})]})}),a.jsx("div",{className:"grid grid-cols-3 gap-4 px-4 sm:px-12",children:f.map(c=>a.jsx("button",{onClick:()=>k(c),className:`
              h-20 sm:h-24 rounded-2xl text-3xl font-black shadow-[0_4px_0_rgb(0,0,0,0.1)] active:shadow-none active:translate-y-[4px] transition-all
              ${c==="OK"?"bg-green-500 text-white shadow-green-700":c==="DEL"?"bg-red-100 text-red-500 shadow-red-200":"bg-white text-kid-blue shadow-gray-200 hover:bg-gray-50"}
            `,children:c==="DEL"?"":c==="OK"?"":c},c))})]})},Ve={xp:0,level:1,items:0},al={[D.ENGLISH]:{...Ve},[D.CHINESE]:{...Ve},[D.WRITING]:{...Ve},[D.MATH]:{...Ve},[D.SCIENCE]:{...Ve},[D.GAME]:{...Ve},[D.SCENE]:{...Ve},[D.DRAWING]:{...Ve}},wg=100,Sg=()=>{const[e,t]=w.useState(D.HOME),[n,r]=w.useState(al),[s,o]=w.useState(3),[l,i]=w.useState("RANDOM"),[u,d]=w.useState([]),[m,p]=w.useState(!1),[g,S]=w.useState(void 0),[v,k]=w.useState(void 0),[M,f]=w.useState(0);w.useEffect(()=>{const C=localStorage.getItem("kid_app_progress");if(C)try{const F=JSON.parse(C);F[D.WRITING]||(F[D.WRITING]={...Ve}),F[D.DRAWING]||(F[D.DRAWING]={...Ve}),F[D.MATH]||(F[D.MATH]={...Ve}),r(U=>({...U,...F}))}catch(F){console.error("Failed to load progress",F)}const P=localStorage.getItem("kid_app_history");if(P)try{d(JSON.parse(P))}catch(F){console.error("Failed to load history",F)}const b=localStorage.getItem("kid_app_age");b&&o(parseInt(b,10)),nf()},[]),w.useEffect(()=>{localStorage.setItem("kid_app_progress",JSON.stringify(n))},[n]),w.useEffect(()=>{localStorage.setItem("kid_app_history",JSON.stringify(u))},[u]),w.useEffect(()=>{localStorage.setItem("kid_app_age",s.toString())},[s]);const c=(C,P,b=0)=>{r(F=>{const U=F[C]||{...Ve},Q=U.xp+P,le=Math.floor(Q/wg)+1;return{...F,[C]:{xp:Q,level:le,items:U.items+b}}})},h=()=>{r(al),localStorage.setItem("kid_app_progress",JSON.stringify(al))},y=C=>{const P={...C,id:Date.now().toString()+Math.random().toString().slice(2,6),timestamp:Date.now()};d(b=>[P,...b].slice(0,100))},_=C=>{C.type==="FLASHCARD"&&C.mode?(S(C.data),k(void 0),t(C.mode)):C.type==="SCIENCE"&&(k(C.data),S(void 0),t(D.SCIENCE)),f(P=>P+1)},x=C=>{C!==e&&(S(void 0),k(void 0),f(P=>P+1)),t(C)},E=Object.values(n).reduce((C,P)=>C+((P==null?void 0:P.xp)||0),0),T=()=>{switch(e){case D.HOME:return a.jsx(Nu,{onNavigate:x,progress:n});case D.ENGLISH:return a.jsx(Fu,{mode:D.ENGLISH,difficulty:s,voiceId:l,onUpdateProgress:(C,P)=>c(D.ENGLISH,C,P),initialData:g,onAddToHistory:C=>y({type:"FLASHCARD",mode:D.ENGLISH,data:C,preview:C.word}),history:u},`english-${M}`);case D.CHINESE:return a.jsx(Fu,{mode:D.CHINESE,difficulty:s,voiceId:l,onUpdateProgress:(C,P)=>c(D.CHINESE,C,P),initialData:g,onAddToHistory:C=>y({type:"FLASHCARD",mode:D.CHINESE,data:C,preview:C.word}),history:u},`chinese-${M}`);case D.WRITING:return a.jsx(yg,{difficulty:s,voiceId:l,onUpdateProgress:(C,P)=>c(D.WRITING,C,P),onAddToHistory:C=>y({type:"WRITING",data:C,preview:C.char})},`writing-${M}`);case D.MATH:return a.jsx(xg,{difficulty:s,voiceId:l,onUpdateProgress:(C,P)=>c(D.MATH,C,P),onAddToHistory:C=>y({type:"MATH",data:C,preview:C.question})},`math-${M}`);case D.SCIENCE:return a.jsx(pg,{difficulty:s,voiceId:l,onUpdateProgress:(C,P)=>c(D.SCIENCE,C,P),initialData:v,onAddToHistory:C=>y({type:"SCIENCE",data:C,preview:C.question})},`science-${M}`);case D.GAME:return a.jsx(mg,{history:u,difficulty:s,voiceId:l,onUpdateProgress:(C,P)=>c(D.GAME,C,P),onNavigate:x},`game-${M}`);case D.SCENE:return a.jsx(gg,{voiceId:l,onUpdateProgress:(C,P)=>c(D.SCENE,C,P)},`scene-${M}`);case D.DRAWING:return a.jsx(vg,{difficulty:s,voiceId:l,onUpdateProgress:(C,P)=>c(D.DRAWING,C,P),onAddToHistory:C=>y({type:"DRAWING",data:C,preview:C.topic})},`drawing-${M}`);default:return a.jsx(Nu,{onNavigate:x,progress:n})}};return a.jsxs(a.Fragment,{children:[a.jsx(Yp,{currentView:e,onNavigate:x,score:E,age:s,onSetAge:o,voiceId:l,onSetVoiceId:i,onOpenHistory:()=>p(!0),children:T()}),a.jsx(Jp,{isOpen:m,onClose:()=>p(!1),history:u,onRestore:_,onClear:()=>d([]),onResetProgress:h})]})},xf=document.getElementById("root");if(!xf)throw new Error("Could not find root element to mount to");const kg=ul.createRoot(xf);kg.render(a.jsx(zf.StrictMode,{children:a.jsx(Sg,{})}));
